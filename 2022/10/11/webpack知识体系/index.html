<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="çŸ¥è¯†åœ¨ä¸–ç•Œçš„æŸä¸ªè§’è½ç­‰ä½ ">
    <meta name="author" content="Chao">
    
    <title>
        
            Webpack çŸ¥è¯†ä½“ç³» |
        
        XChao&#39;s Blog
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/avatar.jpg">
    
<link rel="stylesheet" href="/font/css/fontawesome.min.css">

    
<link rel="stylesheet" href="/font/css/regular.min.css">

    
<link rel="stylesheet" href="/font/css/solid.min.css">

    
<link rel="stylesheet" href="/font/css/brands.min.css">

    <script id="hexo-configurations">
    let KEEP = window.KEEP || {}
    KEEP.hexo_config = {"hostname":"xiongcao.github.io","root":"/","language":"en","path":"search.json"}
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":true,"init_open":true},"style":{"primary_color":"#0066cc","logo":"/images/avatar.jpg","favicon":"/images/avatar.jpg","avatar":"/images/avatar.jpg","font_size":null,"font_family":null,"hover":{"shadow":true,"scale":true},"first_screen":{"enable":true,"header_transparent":true,"background_img":"/images/bg.svg","description":"é»„è‰²çš„æ£®æ—åˆ†å‡ºä¸¤æ¡è·¯ï¼Œæˆ‘é€‰æ‹©äººè¿¹æ›´å°‘çš„é‚£ä¸€æ¡ï¼Œä»æ­¤å†³å®šæˆ‘ä¸€ç”Ÿçš„é“è·¯ã€‚","font_color":null,"hitokoto":true},"scroll":{"progress_bar":true,"percent":true}},"local_search":{"enable":true,"preload":true},"code_copy":{},"code_block":{"tools":{"enable":true,"style":"mac"},"highlight_theme":"default"},"side_tools":{},"pjax":{"enable":true},"lazyload":{"enable":true},"comment":{"enable":true,"use":"waline","valine":{"appid":null,"appkey":null,"server_urls":null,"placeholder":null},"gitalk":{"github_id":null,"github_admins":null,"repository":null,"client_id":null,"client_secret":null,"proxy":null},"twikoo":{"env_id":null,"region":null,"version":"1.6.8"},"waline":{"server_url":"https://bear-blog-comment-8yis8zzwo-xiongcao.vercel.app","reaction":true,"version":2}},"post":{"author_label":{"enable":true,"auto":false,"custom_label_list":["Trainee","Engineer","Architect","å®ä¹ ç”Ÿ","å·¥ç¨‹å¸ˆ","æ¶æ„å¸ˆ","ç¨‹åºé¼“åŠ±å¸ˆ"]},"word_count":{"enable":true,"wordcount":true,"min2read":true},"img_align":"left","copyright_info":true},"version":"3.6.1"}
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"}
    KEEP.language_code_block = {"copy":"Copy code","copied":"Copied","fold":"Fold code block","folded":"Folded"}
    KEEP.language_copy_copyright = {"copy":"Copy copyright info","copied":"Copied","title":"Original article title","author":"Original article author","link":"Original article link"}
  </script>
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
        <i class="pjax-progress-icon fas fa-circle-notch fa-spin"></i>
    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            
<header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
                <a class="logo-image" href="/">
                    <img src="/images/avatar.jpg">
                </a>
            
            <a class="logo-title" href="/">
               XChao&#39;s Blog
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                TAGS
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                CATEGORIES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/links"
                            >
                                LINKS
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/about"
                            >
                                ABOUT
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">ARCHIVES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">TAGS</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">CATEGORIES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/links">LINKS</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/about">ABOUT</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            <div class="article-title">
                <span class="title-hover-animation">Webpack çŸ¥è¯†ä½“ç³»</span>
            </div>

            
                <div class="article-header">
                    <div class="avatar">
                        <img src="/images/avatar.jpg">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">Chao</span>
                            
                                <span class="author-label">å·¥ç¨‹å¸ˆ</span>
                            
                        </div>
                        <div class="meta-info">
                            
<div class="article-meta-info">
    <span class="article-date article-meta-item">
        
            <i class="fa-regular fa-calendar-plus"></i>&nbsp;
        
        <span class="pc">2022-10-11 13:15:00</span>
        <span class="mobile">2022-10-11 13:15</span>
    </span>
    
        <span class="article-update-date article-meta-item">
        <i class="fas fa-file-pen"></i>&nbsp;
        <span class="pc">2023-07-20 16:03:36</span>
    </span>
    
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/">æ„å»ºå·¥å…·</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/Webpack/">Webpack</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i>&nbsp;<span>7.5k Words</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fas fa-clock"></i>&nbsp;<span>34 Mins</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content keep-markdown-body">
                

                <span id="more"></span>


<h3 id="webpack-ä¸­-loader-å’Œ-plugin-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ"><a href="#webpack-ä¸­-loader-å’Œ-plugin-çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ" class="headerlink" title="webpack ä¸­ loader å’Œ plugin çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ?"></a>webpack ä¸­ loader å’Œ plugin çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ?</h3><p>![image-20230313215918145](&#x2F;Users&#x2F;xiongchao&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20230313215918145.png)</p>
<p>![image-20230314100016140](&#x2F;Users&#x2F;xiongchao&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20230314100016140.png)</p>
<h2 id="ä¸€ã€Webpack-åŸºç¡€"><a href="#ä¸€ã€Webpack-åŸºç¡€" class="headerlink" title="ä¸€ã€Webpack åŸºç¡€"></a>ä¸€ã€Webpack åŸºç¡€</h2><h3 id="1-ç®€å•é…ç½®"><a href="#1-ç®€å•é…ç½®" class="headerlink" title="1. ç®€å•é…ç½®"></a>1. ç®€å•é…ç½®</h3><blockquote>
<p>è¯¥éƒ¨åˆ†éœ€è¦æŒæ¡ï¼š</p>
<ol>
<li>Webpack å¸¸è§„é…ç½®é¡¹æœ‰å“ªäº›ï¼Ÿ</li>
<li>å¸¸ç”¨ Loader æœ‰å“ªäº›ï¼Ÿå¦‚ä½•é…ç½®ï¼Ÿ</li>
<li>å¸¸ç”¨æ’ä»¶ï¼ˆPluginï¼‰æœ‰å“ªäº›ï¼Ÿå¦‚ä½•çš„é…ç½®ï¼Ÿ</li>
<li>Babel çš„å¦‚ä½•é…ç½®ï¼ŸBabel æ’ä»¶å¦‚ä½•ä½¿ç”¨ï¼Ÿ</li>
</ol>
</blockquote>
<h4 id="1-1-å®‰è£…ä¾èµ–"><a href="#1-1-å®‰è£…ä¾èµ–" class="headerlink" title="1.1 å®‰è£…ä¾èµ–"></a>1.1 å®‰è£…ä¾èµ–</h4><p>æ¯«æ— ç–‘é—®ï¼Œå…ˆæœ¬åœ°å®‰è£…ä¸€ä¸‹ <code>webpack</code> ä»¥åŠ <code>webpack-cli</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install webpack webpack-cli -D <span class="comment"># å®‰è£…åˆ°æœ¬åœ°ä¾èµ–</span></span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®Œæˆ âœ…</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">+ webpack-cli@4.7.2</span><br><span class="line">+ webpack@5.44.0</span><br></pre></td></tr></table></figure>



<h4 id="1-2-å·¥ä½œæ¨¡å¼"><a href="#1-2-å·¥ä½œæ¨¡å¼" class="headerlink" title="1.2 å·¥ä½œæ¨¡å¼"></a>1.2 å·¥ä½œæ¨¡å¼</h4><p>webpack åœ¨ 4 ä»¥åå°±æ”¯æŒ 0 é…ç½®æ‰“åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥æµ‹è¯•ä¸€ä¸‹</p>
<ol>
<li>æ–°å»º <code>./src/index.js</code> æ–‡ä»¶ï¼Œå†™ä¸€æ®µç®€å•çš„ä»£ç </li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a = <span class="string">&#x27;Hello ITEM&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = a;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ç›®å½•ç»“æ„</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">webpack_work                  </span><br><span class="line">â”œâ”€ src                </span><br><span class="line">â”‚  â””â”€ index.js         </span><br><span class="line">â””â”€ package.json       </span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ç›´æ¥è¿è¡Œ <code>npx webpack</code>ï¼Œå¯åŠ¨æ‰“åŒ…</li>
</ol>
<p>![image-20230314100037131](&#x2F;Users&#x2F;xiongchao&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20230314100037131.png)</p>
<p>æ‰“åŒ…å®Œæˆï¼Œæˆ‘ä»¬çœ‹åˆ°æ—¥å¿—ä¸Šé¢æœ‰ä¸€æ®µæç¤ºï¼š<code>The &#39;mode&#39; option has not been set,...</code></p>
<p>æ„æ€å°±æ˜¯ï¼Œæˆ‘ä»¬æ²¡æœ‰é…ç½® modeï¼ˆæ¨¡å¼ï¼‰ï¼Œè¿™é‡Œæé†’æˆ‘ä»¬é…ç½®ä¸€ä¸‹</p>
<blockquote>
<p><strong>æ¨¡å¼ï¼š</strong> ä¾› mode é…ç½®é€‰é¡¹ï¼Œå‘ŠçŸ¥ webpack ä½¿ç”¨ç›¸åº”æ¨¡å¼çš„å†…ç½®ä¼˜åŒ–ï¼Œé»˜è®¤å€¼ä¸º <code>production</code>ï¼Œå¦å¤–è¿˜æœ‰ <code>development</code>ã€<code>none</code>ï¼Œä»–ä»¬çš„åŒºåˆ«å¦‚ä¸‹</p>
</blockquote>
<p>![image-20230314100147865](&#x2F;Users&#x2F;xiongchao&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20230314100147865.png)</p>
<p>æ€ä¹ˆé…ç½®å‘¢ï¼Ÿå¾ˆç®€å•</p>
<ol>
<li>åªéœ€åœ¨é…ç½®å¯¹è±¡ä¸­æä¾› mode é€‰é¡¹ï¼š</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ä» CLI å‚æ•°ä¸­ä¼ é€’ï¼š</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ webpack --mode=development</span><br></pre></td></tr></table></figure>



<h4 id="1-3-é…ç½®æ–‡ä»¶"><a href="#1-3-é…ç½®æ–‡ä»¶" class="headerlink" title="1.3 é…ç½®æ–‡ä»¶"></a>1.3 é…ç½®æ–‡ä»¶</h4><p>è™½ç„¶æœ‰ 0 é…ç½®æ‰“åŒ…ï¼Œä½†æ˜¯å®é™…å·¥ä½œä¸­ï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦ä½¿ç”¨é…ç½®æ–‡ä»¶çš„æ–¹å¼ï¼Œæ¥æ»¡è¶³ä¸åŒé¡¹ç›®çš„éœ€æ±‚</p>
<ol>
<li>æ ¹è·¯å¾„ä¸‹æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ <code>webpack.config.js</code></li>
<li>æ–°å¢åŸºæœ¬é…ç½®ä¿¡æ¯</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>, <span class="comment">// æ¨¡å¼</span></span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/index.js&#x27;</span>, <span class="comment">// æ‰“åŒ…å…¥å£åœ°å€</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span>, <span class="comment">// è¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>) <span class="comment">// è¾“å‡ºæ–‡ä»¶ç›®å½•</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




<h4 id="1-4-Loader"><a href="#1-4-Loader" class="headerlink" title="1.4 Loader"></a>1.4 Loader</h4><p>è¿™é‡Œæˆ‘ä»¬æŠŠå…¥å£æ”¹æˆ CSS æ–‡ä»¶ï¼Œå¯èƒ½æ‰“åŒ…ç»“æœä¼šå¦‚ä½•</p>
<ol>
<li><p>æ–°å¢ <code>./src/main.css</code></p>
</li>
<li><p>ä¿®æ”¹ entry é…ç½®</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>, <span class="comment">// æ¨¡å¼</span></span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/main.css&#x27;</span>, <span class="comment">// æ‰“åŒ…å…¥å£åœ°å€</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.css&#x27;</span>, <span class="comment">// è¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>) <span class="comment">// è¾“å‡ºæ–‡ä»¶ç›®å½•</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>è¿è¡Œæ‰“åŒ…å‘½ä»¤ï¼š<code>npx webpack</code></li>
</ol>
<p>![image-20230314100827307](&#x2F;Users&#x2F;xiongchao&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20230314100827307.png)</p>
<p>è¿™é‡Œå°±æŠ¥é”™äº†ï¼</p>
<p>è¿™æ˜¯å› ä¸ºï¼š<strong>webpack é»˜è®¤æ”¯æŒå¤„ç† JS ä¸ JSON æ–‡ä»¶ï¼Œå…¶ä»–ç±»å‹éƒ½å¤„ç†ä¸äº†ï¼Œè¿™é‡Œå¿…é¡»å€ŸåŠ© Loader æ¥å¯¹ä¸åŒç±»å‹çš„æ–‡ä»¶çš„è¿›è¡Œå¤„ç†ã€‚</strong></p>
<ol start="4">
<li>å®‰è£… <code>css-loader</code> æ¥å¤„ç† CSS</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install css-loader -D</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>é…ç½®èµ„æºåŠ è½½æ¨¡å—</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>, <span class="comment">// æ¨¡å¼</span></span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/main.css&#x27;</span>, <span class="comment">// æ‰“åŒ…å…¥å£åœ°å€</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.css&#x27;</span>, <span class="comment">// è¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>) <span class="comment">// è¾“å‡ºæ–‡ä»¶ç›®å½•</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">rules</span>: [ <span class="comment">// è½¬æ¢è§„åˆ™</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="comment">//åŒ¹é…æ‰€æœ‰çš„ css æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">use</span>: <span class="string">&#x27;css-loader&#x27;</span> <span class="comment">// use: å¯¹åº”çš„ Loader åç§°</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>é‡æ–°è¿è¡Œæ‰“åŒ…å‘½ä»¤ <code>npx webpack</code></li>
</ol>
<img  
                     lazyload
                     alt="image"
                     data-src="/Users/xiongchao/Library/Application Support/typora-user-images/image-20230314101522488.png"
                      alt="image-20230314101522488" 
                >

<p>å“å˜¿ï¼Œå¯ä»¥æ‰“åŒ…äº† ğŸ˜</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dist           </span><br><span class="line">â””â”€ bundle.<span class="property">css</span>  # æ‰“åŒ…å¾—åˆ°çš„ç»“æœ</span><br></pre></td></tr></table></figure>

<p>![image-20230314101635017](&#x2F;Users&#x2F;xiongchao&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20230314101635017.png)</p>
<p>è¿™é‡Œè¿™æ˜¯å°è¯•ï¼Œå…¥å£æ–‡ä»¶è¿˜æ˜¯éœ€è¦æ”¹å› <code>./src/index.js</code></p>
<p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€ä¸ªç»“è®ºï¼š<strong>Loader å°±æ˜¯å°† Webpack ä¸è®¤è¯†çš„å†…å®¹è½¬åŒ–ä¸ºè®¤è¯†çš„å†…å®¹</strong></p>
<h4 id="1-5-æ’ä»¶ï¼ˆpluginï¼‰"><a href="#1-5-æ’ä»¶ï¼ˆpluginï¼‰" class="headerlink" title="1.5 æ’ä»¶ï¼ˆpluginï¼‰"></a>1.5 æ’ä»¶ï¼ˆpluginï¼‰</h4><p>ä¸ Loader ç”¨äºè½¬æ¢ç‰¹å®šç±»å‹çš„æ–‡ä»¶ä¸åŒï¼Œ<strong>æ’ä»¶ï¼ˆPluginï¼‰å¯ä»¥è´¯ç©¿ Webpack æ‰“åŒ…çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ‰§è¡Œä¸åŒçš„ä»»åŠ¡</strong></p>
<p>ä¸‹é¢æ¥çœ‹ä¸€ä¸ªä½¿ç”¨çš„åˆ—å­ï¼š</p>
<p>1.æ–°å»º <code>./src/index.html</code> æ–‡ä»¶</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>ITEM<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœæˆ‘æƒ³æ‰“åŒ…åçš„èµ„æºæ–‡ä»¶ï¼Œä¾‹å¦‚ï¼šjs æˆ–è€… css æ–‡ä»¶å¯ä»¥è‡ªåŠ¨å¼•å…¥åˆ° Html ä¸­ï¼Œå°±éœ€è¦ä½¿ç”¨æ’ä»¶ <a class="link"   href="https://link.juejin.cn/?target=https://www.npmjs.com/package/html-webpack-plugin" >html-webpack-plugin<i class="fas fa-external-link-alt"></i></a>æ¥å¸®åŠ©ä½ å®Œæˆè¿™ä¸ªæ“ä½œ</p>
<p>2.æœ¬åœ°å®‰è£… <code>html-webpack-plugin</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install html-webpack-plugin -D</span><br></pre></td></tr></table></figure>

<p>3.é…ç½®æ’ä»¶</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>, <span class="comment">// æ¨¡å¼</span></span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/index.js&#x27;</span>, <span class="comment">// æ‰“åŒ…å…¥å£åœ°å€</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span>, <span class="comment">// è¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>) <span class="comment">// è¾“å‡ºæ–‡ä»¶ç›®å½•</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="comment">//åŒ¹é…æ‰€æœ‰çš„ css æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">use</span>: <span class="string">&#x27;css-loader&#x27;</span> <span class="comment">// use: å¯¹åº”çš„ Loader åç§°</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>:[ <span class="comment">// é…ç½®æ’ä»¶</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;./src/index.html&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œä¸€ä¸‹æ‰“åŒ…ï¼Œæ‰“å¼€ dist ç›®å½•ä¸‹ç”Ÿæˆçš„ index.html æ–‡ä»¶</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>ITEM<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span> <span class="attr">src</span>=<span class="string">&quot;bundle.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°å®ƒè‡ªåŠ¨çš„å¼•å…¥äº†æ‰“åŒ…å¥½çš„ bundle.js ï¼Œéå¸¸æ–¹ä¾¿å®ç”¨</p>
<h4 id="1-6-è‡ªåŠ¨æ¸…ç©ºæ‰“åŒ…ç›®å½•"><a href="#1-6-è‡ªåŠ¨æ¸…ç©ºæ‰“åŒ…ç›®å½•" class="headerlink" title="1.6 è‡ªåŠ¨æ¸…ç©ºæ‰“åŒ…ç›®å½•"></a>1.6 è‡ªåŠ¨æ¸…ç©ºæ‰“åŒ…ç›®å½•</h4><p>æ¯æ¬¡æ‰“åŒ…çš„æ—¶å€™ï¼Œæ‰“åŒ…ç›®å½•éƒ½ä¼šé—ç•™ä¸Šæ¬¡æ‰“åŒ…çš„æ–‡ä»¶ï¼Œä¸ºäº†ä¿æŒæ‰“åŒ…ç›®å½•çš„çº¯å‡€ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ‰“åŒ…å‰å°†æ‰“åŒ…ç›®å½•æ¸…ç©º</p>
<p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ’ä»¶ <a class="link"   href="https://link.juejin.cn/?target=https://www.npmjs.com/package/clean-webpack-plugin" >clean-webpack-plugin<i class="fas fa-external-link-alt"></i></a> æ¥å®ç°</p>
<ol>
<li>å®‰è£…</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install clean-webpack-plugin -D</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>é…ç½®</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="comment">// å¼•å…¥æ’ä»¶</span></span><br><span class="line"><span class="keyword">const</span> &#123; <span class="title class_">CleanWebpackPlugin</span> &#125; = <span class="built_in">require</span>(<span class="string">&#x27;clean-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">plugins</span>:[ <span class="comment">// é…ç½®æ’ä»¶</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;./src/index.html&#x27;</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">CleanWebpackPlugin</span>() <span class="comment">// å¼•å…¥æ’ä»¶</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="1-7-åŒºåˆ†ç¯å¢ƒ"><a href="#1-7-åŒºåˆ†ç¯å¢ƒ" class="headerlink" title="1.7 åŒºåˆ†ç¯å¢ƒ"></a>1.7 åŒºåˆ†ç¯å¢ƒ</h4><p>æœ¬åœ°å¼€å‘å’Œéƒ¨ç½²çº¿ä¸Šï¼Œè‚¯å®šæ˜¯æœ‰ä¸åŒçš„éœ€æ±‚</p>
<p><strong>æœ¬åœ°ç¯å¢ƒï¼š</strong></p>
<ul>
<li>éœ€è¦æ›´å¿«çš„æ„å»ºé€Ÿåº¦</li>
<li>éœ€è¦æ‰“å° debug ä¿¡æ¯</li>
<li>éœ€è¦ live reload æˆ– hot reload åŠŸèƒ½</li>
<li>éœ€è¦ sourcemap æ–¹ä¾¿å®šä½é—®é¢˜</li>
</ul>
<p><strong>ç”Ÿäº§ç¯å¢ƒï¼š</strong></p>
<ul>
<li>éœ€è¦æ›´å°çš„åŒ…ä½“ç§¯ï¼Œä»£ç å‹ç¼©+tree-shaking</li>
<li>éœ€è¦è¿›è¡Œä»£ç åˆ†å‰²</li>
<li>éœ€è¦å‹ç¼©å›¾ç‰‡ä½“ç§¯</li>
</ul>
<p>é’ˆå¯¹ä¸åŒçš„éœ€æ±‚ï¼Œé¦–å…ˆè¦åšçš„å°±æ˜¯åšå¥½ç¯å¢ƒçš„åŒºåˆ†</p>
<ol>
<li>æœ¬åœ°å®‰è£… cross-env [<a class="link"   href="https://link.juejin.cn/?target=https://www.npmjs.com/package/cross-env" >æ–‡æ¡£åœ°å€<i class="fas fa-external-link-alt"></i></a>]</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install cross-env -D</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>é…ç½®å¯åŠ¨å‘½ä»¤</li>
</ol>
<p>æ‰“å¼€ <code>./package.json</code></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;dev&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cross-env NODE_ENV=dev webpack serve --mode development&quot;</span><span class="punctuation">,</span> </span><br><span class="line">  <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cross-env NODE_ENV=test webpack --mode production&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cross-env NODE_ENV=prod webpack --mode production&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>åœ¨ Webpack é…ç½®æ–‡ä»¶ä¸­è·å–ç¯å¢ƒå˜é‡</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;process.env.NODE_ENV=&#x27;</span>, process.<span class="property">env</span>.<span class="property">NODE_ENV</span>) <span class="comment">// æ‰“å°ç¯å¢ƒå˜é‡</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/index.js&#x27;</span>, <span class="comment">// æ‰“åŒ…å…¥å£åœ°å€</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span>, <span class="comment">// è¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>) <span class="comment">// è¾“å‡ºæ–‡ä»¶ç›®å½•</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="comment">//åŒ¹é…æ‰€æœ‰çš„ css æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">use</span>: <span class="string">&#x27;css-loader&#x27;</span> <span class="comment">// use: å¯¹åº”çš„ Loader åç§°</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">plugins</span>:[ <span class="comment">// é…ç½®æ’ä»¶</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">      <span class="attr">template</span>: <span class="string">&#x27;./src/index.html&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="function">(<span class="params">env, argv</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;argv.mode=&#x27;</span>,argv.<span class="property">mode</span>) <span class="comment">// æ‰“å° mode(æ¨¡å¼) å€¼</span></span><br><span class="line">  <span class="comment">// è¿™é‡Œå¯ä»¥é€šè¿‡ä¸åŒçš„æ¨¡å¼ä¿®æ”¹ config é…ç½®</span></span><br><span class="line">  <span class="keyword">return</span> config;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>æµ‹è¯•ä¸€ä¸‹çœ‹çœ‹</li>
</ol>
<ul>
<li>æ‰§è¡Œ <code>npm run build</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">process.env.NODE_ENV= prod</span><br><span class="line">argv.mode= production</span><br></pre></td></tr></table></figure>



<h4 id="1-8-å¯åŠ¨-devServer"><a href="#1-8-å¯åŠ¨-devServer" class="headerlink" title="1.8 å¯åŠ¨ devServer"></a>1.8 å¯åŠ¨ devServer</h4><ol>
<li>å®‰è£… <a class="link"   href="https://link.juejin.cn/?target=https://webpack.docschina.org/configuration/dev-server/%23devserver" >webpack-dev-server<i class="fas fa-external-link-alt"></i></a></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm intall webpack-dev-server@3.11.2 -D</span><br></pre></td></tr></table></figure>

<blockquote>
<p>âš ï¸æ³¨æ„ï¼šæœ¬æ–‡ä½¿ç”¨çš„ <code>webpack-dev-server</code> ç‰ˆæœ¬æ˜¯ <code>3.11.2</code>ï¼Œå½“ç‰ˆæœ¬ <code>version &gt;= 4.0.0</code> æ—¶ï¼Œéœ€è¦ä½¿ç”¨ <a class="link"   href="https://link.juejin.cn/?target=https://webpack.docschina.org/configuration/dev-server/%23devserverstatic" >devServer.static<i class="fas fa-external-link-alt"></i></a> è¿›è¡Œé…ç½®ï¼Œä¸å†æœ‰ <code>devServer.contentBase</code> é…ç½®é¡¹ã€‚</p>
</blockquote>
<ol start="2">
<li>é…ç½®æœ¬åœ°æœåŠ¡</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">devServer</span>: &#123;</span><br><span class="line">    <span class="attr">contentBase</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;public&#x27;</span>), <span class="comment">// é™æ€æ–‡ä»¶ç›®å½•</span></span><br><span class="line">    <span class="attr">compress</span>: <span class="literal">true</span>, <span class="comment">//æ˜¯å¦å¯åŠ¨å‹ç¼© gzip</span></span><br><span class="line">    <span class="attr">port</span>: <span class="number">8080</span>, <span class="comment">// ç«¯å£å·</span></span><br><span class="line">    <span class="comment">// open:true  // æ˜¯å¦è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span></span><br><span class="line">  &#125;,</span><br><span class="line"> <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="function">(<span class="params">env, argv</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;argv.mode=&#x27;</span>,argv.<span class="property">mode</span>) <span class="comment">// æ‰“å° mode(æ¨¡å¼) å€¼</span></span><br><span class="line">  <span class="comment">// è¿™é‡Œå¯ä»¥é€šè¿‡ä¸åŒçš„æ¨¡å¼ä¿®æ”¹ config é…ç½®</span></span><br><span class="line">  <span class="keyword">return</span> config;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ä¸ºä»€ä¹ˆè¦é…ç½® contentBase ï¼Ÿ</strong></p>
<p>å› ä¸º webpack åœ¨è¿›è¡Œæ‰“åŒ…çš„æ—¶å€™ï¼Œå¯¹é™æ€æ–‡ä»¶çš„å¤„ç†ï¼Œä¾‹å¦‚å›¾ç‰‡ï¼Œéƒ½æ˜¯ç›´æ¥ copy åˆ° dist ç›®å½•ä¸‹é¢ã€‚ä½†æ˜¯å¯¹äºæœ¬åœ°å¼€å‘æ¥è¯´ï¼Œè¿™ä¸ªè¿‡ç¨‹å¤ªè´¹æ—¶ï¼Œä¹Ÿæ²¡æœ‰å¿…è¦ï¼Œæ‰€ä»¥åœ¨è®¾ç½® contentBase ä¹‹åï¼Œå°±ç›´æ¥åˆ°å¯¹åº”çš„é™æ€ç›®å½•ä¸‹é¢å»è¯»å–æ–‡ä»¶ï¼Œè€Œä¸éœ€å¯¹æ–‡ä»¶åšä»»ä½•ç§»åŠ¨ï¼ŒèŠ‚çœäº†æ—¶é—´å’Œæ€§èƒ½å¼€é”€ã€‚</p>
<ol start="3">
<li>å¯åŠ¨æœ¬åœ°æœåŠ¡</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm run dev</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†çœ‹åˆ°æ•ˆæœï¼Œæˆ‘åœ¨ html ä¸­æ·»åŠ äº†ä¸€æ®µæ–‡å­—ï¼Œå¹¶åœ¨ public ä¸‹é¢æ”¾å…¥äº†ä¸€å¼ å›¾ç‰‡ logo.png</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>ITEM<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>ITEM<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">public       </span><br><span class="line">â””â”€ logo.png  </span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€åœ°å€ <code>http://localhost:8080/</code></p>
<p>![image-20230314105304952](&#x2F;Users&#x2F;xiongchao&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20230314105304952.png)æ¥ç€è®¿é—® <code>http://localhost:8080/logo.png</code></p>
<p>![image-20230314105340796](&#x2F;Users&#x2F;xiongchao&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20230314105340796.png)</p>
<p>OKï¼Œæ²¡é—®é¢˜ ğŸ‘Œ</p>
<h4 id="1-9-å¼•å…¥-CSS"><a href="#1-9-å¼•å…¥-CSS" class="headerlink" title="1.9 å¼•å…¥ CSS"></a>1.9 å¼•å…¥ CSS</h4><p>ä¸Šé¢ï¼Œæˆ‘ä»¬åœ¨ Loader é‡Œé¢è®²åˆ°äº†ä½¿ç”¨ css-loader æ¥å¤„ç† cssï¼Œä½†æ˜¯å•é  css-loader æ˜¯æ²¡æœ‰åŠæ³•å°†æ ·å¼åŠ è½½åˆ°é¡µé¢ä¸Šã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å†å®‰è£…ä¸€ä¸ª style-loader æ¥å®Œæˆè¿™ä¸ªåŠŸèƒ½</p>
<p>style-loader å°±æ˜¯å°†å¤„ç†å¥½çš„ css é€šè¿‡ style æ ‡ç­¾çš„å½¢å¼æ·»åŠ åˆ°é¡µé¢ä¸Š</p>
<ol>
<li>å®‰è£… <code>style-loader</code></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install style-loader -D</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>é…ç½® Loader</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="comment">//åŒ¹é…æ‰€æœ‰çš„ css æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&#x27;style-loader&#x27;</span>,<span class="string">&#x27;css-loader&#x27;</span>]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>âš ï¸æ³¨æ„ï¼š</strong> Loader çš„æ‰§è¡Œé¡ºåºæ˜¯å›ºå®š<strong>ä»åå¾€å‰</strong>ï¼Œå³æŒ‰ <code>css-loader --&gt; style-loader</code> çš„é¡ºåºæ‰§è¡Œ</p>
</blockquote>
<ol start="3">
<li>å¼•ç”¨æ ·å¼æ–‡ä»¶</li>
</ol>
<p>åœ¨å…¥å£æ–‡ä»¶ <code>./src/index.js</code> å¼•å…¥æ ·å¼æ–‡ä»¶ <code>./src/main.css</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./src/index.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./main.css&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = <span class="string">&#x27;Hello ITEM&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = a;</span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ./src/main.css */</span> </span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">10px</span> auto;</span><br><span class="line">  <span class="attribute">background</span>: cyan;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">800px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p>é‡å¯ä¸€ä¸‹æœ¬åœ°æœåŠ¡ï¼Œè®¿é—® <code>http://localhost:8080/</code></p>
<p>![image-20230314110210083](&#x2F;Users&#x2F;xiongchao&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20230314110210083.png)</p>
</li>
</ol>
<p>è¿™æ ·æ ·å¼å°±èµ·ä½œç”¨äº†ã€‚</p>
<p>style-loader æ ¸å¿ƒé€»è¾‘ç›¸å½“äºï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> content = <span class="string">`<span class="subst">$&#123;æ ·å¼å†…å®¹&#125;</span>`</span></span><br><span class="line"><span class="keyword">const</span> style = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;style&#x27;</span>);</span><br><span class="line">style.<span class="property">innerHTML</span> = content;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">head</span>.<span class="title function_">appendChild</span>(style);</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡åŠ¨æ€æ·»åŠ  style æ ‡ç­¾çš„æ–¹å¼ï¼Œå°†æ ·å¼å¼•å…¥é¡µé¢</p>
<h4 id="1-10-CSS-å…¼å®¹æ€§"><a href="#1-10-CSS-å…¼å®¹æ€§" class="headerlink" title="1.10 CSS å…¼å®¹æ€§"></a>1.10 CSS å…¼å®¹æ€§</h4><p>ä½¿ç”¨ <a class="link"   href="https://link.juejin.cn/?target=https://webpack.docschina.org/loaders/postcss-loader/" >postcss-loader<i class="fas fa-external-link-alt"></i></a>ï¼Œè‡ªåŠ¨æ·»åŠ  CSS3 éƒ¨åˆ†å±æ€§çš„æµè§ˆå™¨å‰ç¼€</p>
<p>ä¸Šé¢æˆ‘ä»¬ç”¨åˆ°çš„ <code>transform: translateX(-50%);</code>ï¼Œéœ€è¦åŠ ä¸Šä¸åŒçš„æµè§ˆå™¨å‰ç¼€ï¼Œè¿™ä¸ªæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ postcss-loader æ¥å¸®åŠ©æˆ‘ä»¬å®Œæˆ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install postcss postcss-loader postcss-preset-env -D</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.css$/</span>, <span class="comment">//åŒ¹é…æ‰€æœ‰çš„ css æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">use</span>: [<span class="string">&#x27;style-loader&#x27;</span>,<span class="string">&#x27;css-loader&#x27;</span>, <span class="string">&#x27;postcss-loader&#x27;</span>]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ›å»º postcss é…ç½®æ–‡ä»¶ <code>postcss.config.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// postcss.config.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">plugins</span>: [<span class="built_in">require</span>(<span class="string">&#x27;postcss-preset-env&#x27;</span>)]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ›å»º postcss-preset-env é…ç½®æ–‡ä»¶ <code>.browserslistrc</code></p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¢è¡Œç›¸å½“äº and</span></span><br><span class="line"><span class="attribute">last</span> <span class="number">2</span> versions <span class="comment"># å›é€€ä¸¤ä¸ªæµè§ˆå™¨ç‰ˆæœ¬</span></span><br><span class="line">&gt; <span class="number">0</span>.<span class="number">5</span>% <span class="comment"># å…¨çƒè¶…è¿‡0.5%äººä½¿ç”¨çš„æµè§ˆå™¨ï¼Œå¯ä»¥é€šè¿‡ caniuse.com æŸ¥çœ‹ä¸åŒæµè§ˆå™¨ä¸åŒç‰ˆæœ¬å æœ‰ç‡</span></span><br><span class="line">IE <span class="number">10</span> <span class="comment"># å…¼å®¹IE 10</span></span><br></pre></td></tr></table></figure>



<h4 id="1-11-å¼•å…¥-Less-æˆ–è€…-Sass"><a href="#1-11-å¼•å…¥-Less-æˆ–è€…-Sass" class="headerlink" title="1.11 å¼•å…¥ Less æˆ–è€… Sass"></a>1.11 å¼•å…¥ Less æˆ–è€… Sass</h4><img  
                     lazyload
                     alt="image"
                     data-src="/Users/xiongchao/Library/Application Support/typora-user-images/image-20230314110846900.png"
                      alt="image-20230314110846900" style="zoom:67%;" 
                >



<h4 id="1-12-åˆ†ç¦»æ ·å¼æ–‡ä»¶"><a href="#1-12-åˆ†ç¦»æ ·å¼æ–‡ä»¶" class="headerlink" title="1.12 åˆ†ç¦»æ ·å¼æ–‡ä»¶"></a>1.12 åˆ†ç¦»æ ·å¼æ–‡ä»¶</h4><p>å‰é¢ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä¾èµ– <code>style-loader</code> å°†æ ·å¼é€šè¿‡ style æ ‡ç­¾çš„å½¢å¼æ·»åŠ åˆ°é¡µé¢ä¸Š</p>
<p>ä½†æ˜¯ï¼Œæ›´å¤šæ—¶å€™ï¼Œæˆ‘ä»¬éƒ½å¸Œæœ›å¯ä»¥é€šè¿‡ CSS æ–‡ä»¶çš„å½¢å¼å¼•å…¥åˆ°é¡µé¢ä¸Š</p>
<ol>
<li>å®‰è£… <a href="https://link.juejin.cn/?target=https://webpack.docschina.org/plugins/mini-css-extract-plugin/"><code>mini-css-extract-plugin</code></a></li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">npm install mini-css-extract-plugin -D</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>ä¿®æ”¹ <code>webpack.config.js</code> é…ç½®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="comment">// å¼•å…¥æ’ä»¶</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">MiniCssExtractPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;mini-css-extract-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(s[ac]|c)ss$/i</span>, <span class="comment">//åŒ¹é…æ‰€æœ‰çš„ sass/scss/css æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          <span class="comment">// &#x27;style-loader&#x27;,</span></span><br><span class="line">          <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>, <span class="comment">// æ·»åŠ  loader</span></span><br><span class="line">          <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;postcss-loader&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;sass-loader&#x27;</span>, </span><br><span class="line">        ] </span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">plugins</span>:[ <span class="comment">// é…ç½®æ’ä»¶</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">MiniCssExtractPlugin</span>(&#123; <span class="comment">// æ·»åŠ æ’ä»¶</span></span><br><span class="line">      <span class="attr">filename</span>: <span class="string">&#x27;[name].[hash:8].css&#x27;</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æŸ¥çœ‹æ‰“åŒ…ç»“æœ</p>
</li>
</ol>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dist                    </span><br><span class="line">â”œâ”€ avatar.d4d42d52.png  </span><br><span class="line">â”œâ”€ bundle.js            </span><br><span class="line">â”œâ”€ index.html           </span><br><span class="line">â”œâ”€ logo.56482c77.png    </span><br><span class="line">â””â”€ main.3bcbae64.css # ç”Ÿæˆçš„æ ·å¼æ–‡ä»¶  </span><br></pre></td></tr></table></figure>

<p>![image-20230314140445250](&#x2F;Users&#x2F;xiongchao&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20230314140445250.png)</p>
<h4 id="1-13-å›¾ç‰‡å’Œå­—ä½“æ–‡ä»¶"><a href="#1-13-å›¾ç‰‡å’Œå­—ä½“æ–‡ä»¶" class="headerlink" title="1.13 å›¾ç‰‡å’Œå­—ä½“æ–‡ä»¶"></a>1.13 å›¾ç‰‡å’Œå­—ä½“æ–‡ä»¶</h4><p>è™½ç„¶ä¸Šé¢åœ¨é…ç½®å¼€å‘ç¯å¢ƒçš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½® <code>contentBase</code> å»ç›´æ¥è¯»å–å›¾ç‰‡ç±»çš„é™æ€æ–‡ä»¶ï¼Œçœ‹ä¸€ä¸‹ä¸‹é¢è¿™ä¸¤ç§å›¾ç‰‡ä½¿ç”¨æƒ…å†µ</p>
<ol>
<li><p>é¡µé¢ç›´æ¥å¼•å…¥</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æœ¬åœ°å¯ä»¥è®¿é—®ï¼Œç”Ÿäº§ç¯å¢ƒä¼šæ‰¾ä¸åˆ°å›¾ç‰‡ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/logo.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>èƒŒæ™¯å›¾å¼•å…¥</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;imgBox&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ./src/main.css */</span></span><br><span class="line">...</span><br><span class="line"><span class="selector-id">#imgBox</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">400px</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&#x27;../public/logo.png&#x27;</span>);</span><br><span class="line">  <span class="attribute">background-size</span>: contain;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>ç›´æ¥ä¼šæŠ¥é”™</p>
<p>![image-20230314140633926](&#x2F;Users&#x2F;xiongchao&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20230314140633926.png)</p>
<p>æ‰€ä»¥å®é™…ä¸Šï¼ŒWebpack æ— æ³•è¯†åˆ«å›¾ç‰‡æ–‡ä»¶ï¼Œéœ€è¦åœ¨æ‰“åŒ…çš„æ—¶å€™å¤„ç†ä¸€ä¸‹</p>
<p>å¸¸ç”¨çš„å¤„ç†å›¾ç‰‡æ–‡ä»¶çš„ Loader åŒ…å«ï¼š</p>
<p>![image-20230314140703022](&#x2F;Users&#x2F;xiongchao&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20230314140703022.png)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(jpe?g|png|gif)$/i</span>,</span><br><span class="line">        <span class="attr">use</span>:[</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&#x27;file-loader&#x27;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="attr">name</span>: <span class="string">&#x27;[name][hash:8].[ext]&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="attr">name</span>: <span class="string">&#x27;[name][hash:8].[ext]&#x27;</span>,</span><br><span class="line">              <span class="comment">// æ–‡ä»¶å°äº 50k ä¼šè½¬æ¢ä¸º base64ï¼Œå¤§äºåˆ™æ‹·è´æ–‡ä»¶</span></span><br><span class="line">              <span class="attr">limit</span>: <span class="number">50</span> * <span class="number">1024</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(woff2?|eot|ttf|otf)(\?.*)?$/i</span>,  <span class="comment">// åŒ¹é…å­—ä½“æ–‡ä»¶</span></span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&#x27;url-loader&#x27;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="attr">name</span>: <span class="string">&#x27;fonts/[name][hash:8].[ext]&#x27;</span>, <span class="comment">// ä½“ç§¯å¤§äº 10KB æ‰“åŒ…åˆ° fonts ç›®å½•ä¸‹ </span></span><br><span class="line">              <span class="attr">limit</span>: <span class="number">10</span> * <span class="number">1024</span>,</span><br><span class="line">            &#125; </span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="1-14-èµ„æºæ¨¡å—çš„ä½¿ç”¨"><a href="#1-14-èµ„æºæ¨¡å—çš„ä½¿ç”¨" class="headerlink" title="1.14 èµ„æºæ¨¡å—çš„ä½¿ç”¨"></a>1.14 èµ„æºæ¨¡å—çš„ä½¿ç”¨</h4><blockquote>
<p>webpack5 æ–°å¢èµ„æºæ¨¡å—(asset module)ï¼Œå…è®¸ä½¿ç”¨èµ„æºæ–‡ä»¶ï¼ˆå­—ä½“ï¼Œå›¾æ ‡ç­‰ï¼‰è€Œæ— éœ€é…ç½®é¢å¤–çš„ loaderã€‚</p>
</blockquote>
<p>èµ„æºæ¨¡å—æ”¯æŒä»¥ä¸‹å››ä¸ªé…ç½®ï¼š</p>
<blockquote>
<ol>
<li><code>asset/resource</code> å°†èµ„æºåˆ†å‰²ä¸ºå•ç‹¬çš„æ–‡ä»¶ï¼Œå¹¶å¯¼å‡º urlï¼Œç±»ä¼¼ä¹‹å‰çš„ file-loader çš„åŠŸèƒ½.</li>
<li><code>asset/inline</code> å°†èµ„æºå¯¼å‡ºä¸º dataUrl çš„å½¢å¼ï¼Œç±»ä¼¼ä¹‹å‰çš„ url-loader çš„å°äº limit å‚æ•°æ—¶åŠŸèƒ½.</li>
<li><code>asset/source</code> å°†èµ„æºå¯¼å‡ºä¸ºæºç ï¼ˆsource codeï¼‰. ç±»ä¼¼çš„ raw-loader åŠŸèƒ½.</li>
<li><code>asset</code> ä¼šæ ¹æ®æ–‡ä»¶å¤§å°æ¥é€‰æ‹©ä½¿ç”¨å“ªç§ç±»å‹ï¼Œå½“æ–‡ä»¶å°äº 8 KBï¼ˆé»˜è®¤ï¼‰ çš„æ—¶å€™ä¼šä½¿ç”¨ asset&#x2F;inlineï¼Œå¦åˆ™ä¼šä½¿ç”¨ asset&#x2F;resourceã€‚</li>
</ol>
</blockquote>
<p>è´´ä¸€ä¸‹ä¿®æ”¹åçš„å®Œæ•´ä»£ç </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./src/index.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      <span class="comment">// ... </span></span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(jpe?g|png|gif)$/i</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;asset&#x27;</span>,</span><br><span class="line">        <span class="attr">generator</span>: &#123;</span><br><span class="line">          <span class="comment">// è¾“å‡ºæ–‡ä»¶ä½ç½®ä»¥åŠæ–‡ä»¶å</span></span><br><span class="line">          <span class="comment">// [ext] è‡ªå¸¦ &quot;.&quot; è¿™ä¸ªä¸ url-loader é…ç½®ä¸åŒ</span></span><br><span class="line">          <span class="attr">filename</span>: <span class="string">&quot;[name][hash:8][ext]&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">parser</span>: &#123;</span><br><span class="line">          <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">            <span class="attr">maxSize</span>: <span class="number">50</span> * <span class="number">1024</span> <span class="comment">//è¶…è¿‡50kbä¸è½¬ base64</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.(woff2?|eot|ttf|otf)(\?.*)?$/i</span>,</span><br><span class="line">        <span class="attr">type</span>: <span class="string">&#x27;asset&#x27;</span>,</span><br><span class="line">        <span class="attr">generator</span>: &#123;</span><br><span class="line">          <span class="comment">// è¾“å‡ºæ–‡ä»¶ä½ç½®ä»¥åŠæ–‡ä»¶å</span></span><br><span class="line">          <span class="attr">filename</span>: <span class="string">&quot;[name][hash:8][ext]&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">parser</span>: &#123;</span><br><span class="line">          <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">            <span class="attr">maxSize</span>: <span class="number">10</span> * <span class="number">1024</span> <span class="comment">// è¶…è¿‡100kbä¸è½¬ base64</span></span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="function">(<span class="params">env, argv</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;argv.mode=&#x27;</span>,argv.<span class="property">mode</span>) <span class="comment">// æ‰“å° mode(æ¨¡å¼) å€¼</span></span><br><span class="line">  <span class="comment">// è¿™é‡Œå¯ä»¥é€šè¿‡ä¸åŒçš„æ¨¡å¼ä¿®æ”¹ config é…ç½®</span></span><br><span class="line">  <span class="keyword">return</span> config;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="1-15-JS-å…¼å®¹æ€§ï¼ˆBabelï¼‰"><a href="#1-15-JS-å…¼å®¹æ€§ï¼ˆBabelï¼‰" class="headerlink" title="1.15 JS å…¼å®¹æ€§ï¼ˆBabelï¼‰"></a>1.15 JS å…¼å®¹æ€§ï¼ˆBabelï¼‰</h4><p>åœ¨å¼€å‘ä¸­æˆ‘ä»¬æƒ³ä½¿ç”¨æœ€æ–°çš„ Js ç‰¹æ€§ï¼Œä½†æ˜¯æœ‰äº›æ–°ç‰¹æ€§çš„æµè§ˆå™¨æ”¯æŒå¹¶ä¸æ˜¯å¾ˆå¥½ï¼Œæ‰€ä»¥ Js ä¹Ÿéœ€è¦åšå…¼å®¹å¤„ç†ï¼Œå¸¸è§çš„å°±æ˜¯å°† ES6 è¯­æ³•è½¬åŒ–ä¸º ES5ã€‚</p>
<p>è¿™é‡Œå°†ç™»åœºçš„â€œå…¨åœºæœ€é“çš„ä»”â€ â€“ Babel</p>
<ol>
<li><p>å®‰è£…ä¾èµ–</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">npm install babel-loader @babel/core @babel/preset-env -D</span></span><br></pre></td></tr></table></figure>

<ul>
<li><code>babel-loader</code> ä½¿ç”¨ Babel åŠ è½½ ES2015+ ä»£ç å¹¶å°†å…¶è½¬æ¢ä¸º ES5</li>
<li><code>@babel/core</code> Babel ç¼–è¯‘çš„æ ¸å¿ƒåŒ…</li>
<li><code>@babel/preset-env</code> Babel ç¼–è¯‘çš„é¢„è®¾ï¼Œå¯ä»¥ç†è§£ä¸º Babel æ’ä»¶çš„è¶…é›†</li>
</ul>
</li>
<li><p>é…ç½® Babel é¢„è®¾</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/index.js&#x27;</span>, <span class="comment">// æ‰“åŒ…å…¥å£åœ°å€</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span>, <span class="comment">// è¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>), <span class="comment">// è¾“å‡ºæ–‡ä»¶ç›®å½•</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.js$/i</span>,</span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">loader</span>: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">              <span class="attr">presets</span>: [</span><br><span class="line">                <span class="string">&#x27;@babel/preset-env&#x27;</span></span><br><span class="line">              ],</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>å°½ç„¶æ˜¯åšå…¼å®¹å¤„ç†ï¼Œæˆ‘ä»¬è‡ªç„¶ä¹Ÿå¯ä»¥æŒ‡å®šåˆ°åº•è¦å…¼å®¹å“ªäº›æµè§ˆå™¨</p>
<p>ä¸ºäº†é¿å… <code>webpack.config.js</code> å¤ªè‡ƒè‚¿ï¼Œå»ºè®®å°† Babel é…ç½®æ–‡ä»¶æå–å‡ºæ¥</p>
<p>æ ¹ç›®å½•ä¸‹æ–°å¢ <code>.babelrc.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./babelrc.js</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">presets</span>: [</span><br><span class="line">    [</span><br><span class="line">      <span class="string">&quot;@babel/preset-env&quot;</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="comment">// useBuiltIns: false é»˜è®¤å€¼ï¼Œæ— è§†æµè§ˆå™¨å…¼å®¹é…ç½®ï¼Œå¼•å…¥æ‰€æœ‰ polyfill</span></span><br><span class="line">        <span class="comment">// useBuiltIns: entry æ ¹æ®é…ç½®çš„æµè§ˆå™¨å…¼å®¹ï¼Œå¼•å…¥æµè§ˆå™¨ä¸å…¼å®¹çš„ polyfill</span></span><br><span class="line">        <span class="comment">// useBuiltIns: usage ä¼šæ ¹æ®é…ç½®çš„æµè§ˆå™¨å…¼å®¹ï¼Œä»¥åŠä½ ä»£ç ä¸­ç”¨åˆ°çš„ API æ¥è¿›è¡ŒÂ polyfillï¼Œå®ç°äº†æŒ‰éœ€æ·»åŠ </span></span><br><span class="line">        <span class="attr">useBuiltIns</span>: <span class="string">&quot;entry&quot;</span>,</span><br><span class="line">        <span class="attr">corejs</span>: <span class="string">&quot;3.9.1&quot;</span>, <span class="comment">// æ˜¯ core-js ç‰ˆæœ¬å·</span></span><br><span class="line">        <span class="attr">targets</span>: &#123;</span><br><span class="line">          <span class="attr">chrome</span>: <span class="string">&quot;58&quot;</span>,</span><br><span class="line">          <span class="attr">ie</span>: <span class="string">&quot;11&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  ],</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¥½äº†ï¼Œè¿™é‡Œä¸€ä¸ªç®€å•çš„ Babel é¢„è®¾å°±é…ç½®å®Œäº†</p>
<p>å¸¸è§ Babel é¢„è®¾è¿˜æœ‰ï¼š</p>
<ul>
<li><code>@babel/preset-flow</code></li>
<li><code>@babel/preset-react</code></li>
<li><code>@babel/preset-typescript</code></li>
</ul>
<ol start="3">
<li>é…ç½® Babel æ’ä»¶</li>
</ol>
<p>å¯¹äºæ­£åœ¨ææ¡ˆä¸­ï¼Œè¿˜æœªè¿›å…¥ ECMA è§„èŒƒä¸­çš„æ–°ç‰¹æ€§ï¼ŒBabel æ˜¯æ— æ³•è¿›è¡Œå¤„ç†çš„ï¼Œå¿…é¡»è¦å®‰è£…å¯¹åº”çš„æ’ä»¶ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ./ index.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./main.css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./sass.scss&#x27;</span></span><br><span class="line"><span class="keyword">import</span> logo <span class="keyword">from</span> <span class="string">&#x27;../public/avatar.png&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./fonts/iconfont.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = <span class="string">&#x27;Hello ITEM&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>()</span><br><span class="line">img.<span class="property">src</span> = logo</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;imgBox&#x27;</span>).<span class="title function_">appendChild</span>(img)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–°å¢è£…é¥°å™¨çš„ä½¿ç”¨</span></span><br><span class="line">@<span class="title function_">log</span>(<span class="string">&#x27;hi&#x27;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span> &#123; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">log</span>(<span class="params">text</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">target</span>) &#123;</span><br><span class="line">    target.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">logger</span> = <span class="function">() =&gt;</span> <span class="string">`<span class="subst">$&#123;text&#125;</span>ï¼Œ<span class="subst">$&#123;target.name&#125;</span>`</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> test = <span class="keyword">new</span> <span class="title class_">MyClass</span>()</span><br><span class="line">test.<span class="title function_">logger</span>()</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä¸€ä¸‹æ‰“åŒ…</p>
<p>![image-20230314142322496](&#x2F;Users&#x2F;xiongchao&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20230314142322496.png)</p>
<p>ä¸å‡ºæ‰€æ–™ï¼Œè¯†åˆ«ä¸äº† ğŸ™…ğŸ»â€â™€ï¸</p>
<p>æ€ä¹ˆæ‰èƒ½ä½¿ç”¨å‘¢ï¼ŸBabel å…¶å®æä¾›äº†å¯¹åº”çš„æ’ä»¶ï¼š</p>
<ul>
<li><code>@babel/plugin-proposal-decorators</code></li>
<li><code>@babel/plugin-proposal-class-properties</code></li>
</ul>
<p>å®‰è£…ä¸€ä¸‹:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install babel/plugin-proposal-decorators @babel/plugin-proposal-class-properties -D</span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€ <code>.babelrc.js</code> åŠ ä¸Šæ’ä»¶çš„é…ç½®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">presets</span>: [</span><br><span class="line">    [</span><br><span class="line">      <span class="string">&quot;@babel/preset-env&quot;</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">useBuiltIns</span>: <span class="string">&quot;entry&quot;</span>,</span><br><span class="line">        <span class="attr">corejs</span>: <span class="string">&quot;3.9.1&quot;</span>,</span><br><span class="line">        <span class="attr">targets</span>: &#123;</span><br><span class="line">          <span class="attr">chrome</span>: <span class="string">&quot;58&quot;</span>,</span><br><span class="line">          <span class="attr">ie</span>: <span class="string">&quot;11&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">plugins</span>: [    </span><br><span class="line">    [<span class="string">&quot;@babel/plugin-proposal-decorators&quot;</span>, &#123; <span class="attr">legacy</span>: <span class="literal">true</span> &#125;],</span><br><span class="line">    [<span class="string">&quot;@babel/plugin-proposal-class-properties&quot;</span>, &#123; <span class="attr">loose</span>: <span class="literal">true</span> &#125;],</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±å¯ä»¥æ‰“åŒ…äº†ï¼Œåœ¨ <code>bundle.js</code> ä¸­å·²ç»è½¬åŒ–ä¸ºæµè§ˆå™¨æ”¯æŒçš„ Js ä»£ç </p>
<h3 id="2-SourceMap-é…ç½®é€‰æ‹©"><a href="#2-SourceMap-é…ç½®é€‰æ‹©" class="headerlink" title="2. SourceMap é…ç½®é€‰æ‹©"></a>2. SourceMap é…ç½®é€‰æ‹©</h3><p>SourceMap æ˜¯ä¸€ç§æ˜ å°„å…³ç³»ï¼Œå½“é¡¹ç›®è¿è¡Œåï¼Œå¦‚æœå‡ºç°é”™è¯¯ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ SourceMap åå‘å®šä½åˆ°æºç ä½ç½®</p>
<h4 id="2-1-devtool-é…ç½®"><a href="#2-1-devtool-é…ç½®" class="headerlink" title="2.1 devtool é…ç½®"></a>2.1 devtool é…ç½®</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="attr">entry</span>: <span class="string">&#x27;./src/index.js&#x27;</span>, <span class="comment">// æ‰“åŒ…å…¥å£åœ°å€</span></span><br><span class="line">  <span class="attr">output</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;bundle.js&#x27;</span>, <span class="comment">// è¾“å‡ºæ–‡ä»¶å</span></span><br><span class="line">    <span class="attr">path</span>: path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>), <span class="comment">// è¾“å‡ºæ–‡ä»¶ç›®å½•</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">devtool</span>: <span class="string">&#x27;source-map&#x27;</span>,</span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">     <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// ...</span></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œæ‰“åŒ…åï¼Œdist ç›®å½•ä¸‹ä¼šç”Ÿæˆä»¥ <code>.map</code> ç»“å°¾çš„ SourceMap æ–‡ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dist                   </span><br><span class="line">â”œâ”€ avatard4d42d52.png  </span><br><span class="line">â”œâ”€ bundle.js           </span><br><span class="line">â”œâ”€ bundle.js.map     </span><br><span class="line">â””â”€ index.html          </span><br></pre></td></tr></table></figure>

<p>é™¤äº† <code>source-map</code> è¿™ç§ç±»å‹ä¹‹å¤–ï¼Œè¿˜æœ‰å¾ˆå¤šç§ç±»å‹å¯ä»¥ç”¨ï¼Œä¾‹å¦‚ï¼š</p>
<img  
                     lazyload
                     alt="image"
                     data-src="/Users/xiongchao/Library/Application Support/typora-user-images/image-20230315101350012.png"
                      alt="image-20230315101350012"
                >

<p>å¯¹ç…§ä¸€ä¸‹æ ¡éªŒè§„åˆ™ <code>^(inline-|hidden-|eval-)?(nosources-)?(cheap-(module-)?)?source-map$</code> åˆ†æä¸€ä¸‹å…³é”®å­—</p>
<p>![image-20230314150330776](&#x2F;Users&#x2F;xiongchao&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20230314150330776.png)</p>
<h4 id="2-2-æ¨èé…ç½®"><a href="#2-2-æ¨èé…ç½®" class="headerlink" title="2.2 æ¨èé…ç½®"></a>2.2 æ¨èé…ç½®</h4><ol>
<li><p>æœ¬åœ°å¼€å‘ï¼š</p>
<p>æ¨èï¼š<code>eval-cheap-module-source-map</code></p>
<p>ç†ç”±ï¼š</p>
<ul>
<li>æœ¬åœ°å¼€å‘é¦–æ¬¡æ‰“åŒ…æ…¢ç‚¹æ²¡å…³ç³»ï¼Œå› ä¸º <code>eval</code> ç¼“å­˜çš„åŸå› ï¼Œrebuild ä¼šå¾ˆå¿«</li>
<li>å¼€å‘ä¸­ï¼Œæˆ‘ä»¬æ¯è¡Œä»£ç ä¸ä¼šå†™çš„å¤ªé•¿ï¼Œåªéœ€è¦å®šä½åˆ°è¡Œå°±è¡Œï¼Œæ‰€ä»¥åŠ ä¸Š <code>cheap</code></li>
<li>æˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿæ‰¾åˆ°æºä»£ç çš„é”™è¯¯ï¼Œè€Œä¸æ˜¯æ‰“åŒ…åçš„ï¼Œæ‰€ä»¥éœ€è¦åŠ ä¸Š <code>module</code></li>
</ul>
</li>
<li><p>ç”Ÿäº§ç¯å¢ƒï¼š</p>
<p>æ¨èï¼š<code>(none)</code></p>
<p>ç†ç”±ï¼š</p>
<ul>
<li>å°±æ˜¯ä¸æƒ³åˆ«äººçœ‹åˆ°æˆ‘çš„æºä»£ç </li>
</ul>
</li>
<li><p>ä¸‰ç§ hash å€¼</p>
<p>Webpack æ–‡ä»¶æŒ‡çº¹ç­–ç•¥æ˜¯å°†æ–‡ä»¶ååé¢åŠ ä¸Š hash å€¼ã€‚ç‰¹åˆ«åœ¨ä½¿ç”¨ CDN çš„æ—¶å€™ï¼Œç¼“å­˜æ˜¯å®ƒçš„ç‰¹ç‚¹ä¸ä¼˜åŠ¿ï¼Œä½†å¦‚æœæ‰“åŒ…çš„æ–‡ä»¶åï¼Œæ²¡æœ‰ hash åç¼€çš„è¯ï¼Œä½ è‚¯å®šä¼šè¢«ç¼“å­˜æŠ˜ç£¨çš„å¤Ÿå‘› ğŸ˜‚</p>
<p>ä¾‹å¦‚æˆ‘ä»¬åœ¨åŸºç¡€é…ç½®ä¸­ç”¨åˆ°çš„ï¼š<code>filename: &quot;[name][hash:8][ext]&quot;</code></p>
<p>è¿™é‡Œé‡Œé¢ <code>[]</code> åŒ…èµ·æ¥çš„ï¼Œå°±å«å ä½ç¬¦ï¼Œå®ƒä»¬éƒ½æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿè¯·çœ‹ä¸‹é¢è¿™ä¸ªè¡¨ ğŸ‘‡ğŸ»</p>
<img  
                     lazyload
                     alt="image"
                     data-src="/Users/xiongchao/Library/Application Support/typora-user-images/image-20230314150858915.png"
                      alt="image-20230314150858915" style="zoom:50%;" align="left"
                ></li>
</ol>
<p>è¡¨æ ¼é‡Œé¢çš„ <code>hash</code>ã€<code>chunkhash</code>ã€<code>contenthash</code> ä½ å¯èƒ½è¿˜æ˜¯ä¸æ¸…æ¥šå·®åˆ«åœ¨å“ª</p>
<ul>
<li><strong>hash</strong> ï¼šä»»ä½•ä¸€ä¸ªæ–‡ä»¶æ”¹åŠ¨ï¼Œæ•´ä¸ªé¡¹ç›®çš„æ„å»º hash å€¼éƒ½ä¼šæ”¹å˜ï¼›</li>
<li><strong>chunkhash</strong>ï¼šæ–‡ä»¶çš„æ”¹åŠ¨åªä¼šå½±å“å…¶æ‰€åœ¨ chunk çš„ hash å€¼ï¼›</li>
<li><strong>contenthash</strong>ï¼šæ¯ä¸ªæ–‡ä»¶éƒ½æœ‰å•ç‹¬çš„ hash å€¼ï¼Œæ–‡ä»¶çš„æ”¹åŠ¨åªä¼šå½±å“è‡ªèº«çš„ hash å€¼ï¼›</li>
</ul>
<h2 id="äºŒã€Webpack-è¿›é˜¶"><a href="#äºŒã€Webpack-è¿›é˜¶" class="headerlink" title="äºŒã€Webpack è¿›é˜¶"></a>äºŒã€Webpack è¿›é˜¶</h2><p>ç¬¬äºŒéƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†å‘â€œèƒ½ä¼˜åŒ–â€çš„æ–¹å‘å‰è¿› ğŸƒ</p>
<p>é™¤äº†é…ç½®ä¸Šçš„ä¼˜åŒ–å¤–ï¼Œæˆ‘ä»¬ä¹Ÿè¦å­¦ä¹ å¦‚ä½•è‡ªå·±å¼€å‘ Loader å’Œ Plugin</p>
<h3 id="1-ä¼˜åŒ–æ„å»ºé€Ÿåº¦"><a href="#1-ä¼˜åŒ–æ„å»ºé€Ÿåº¦" class="headerlink" title="1. ä¼˜åŒ–æ„å»ºé€Ÿåº¦"></a>1. ä¼˜åŒ–æ„å»ºé€Ÿåº¦</h3><h4 id="1-1-æ„å»ºè´¹æ—¶åˆ†æ"><a href="#1-1-æ„å»ºè´¹æ—¶åˆ†æ" class="headerlink" title="1.1 æ„å»ºè´¹æ—¶åˆ†æ"></a>1.1 æ„å»ºè´¹æ—¶åˆ†æ</h4><p>è¿™é‡Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æ’ä»¶ <a class="link"   href="https://link.juejin.cn/?target=https://www.npmjs.com/package/speed-measure-webpack-plugin" >speed-measure-webpack-plugin<i class="fas fa-external-link-alt"></i></a>ï¼Œæˆ‘ä»¬å‚è€ƒæ–‡æ¡£é…ç½®ä¸€ä¸‹</p>
<ol>
<li>é¦–å…ˆå®‰è£…ä¸€ä¸‹</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i -D speed-measure-webpack-plugin</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ä¿®æ”¹æˆ‘ä»¬çš„é…ç½®æ–‡ä»¶ webpack.config.js</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="comment">// è´¹æ—¶åˆ†æ</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">SpeedMeasurePlugin</span> = <span class="built_in">require</span>(<span class="string">&quot;speed-measure-webpack-plugin&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> smp = <span class="keyword">new</span> <span class="title class_">SpeedMeasurePlugin</span>();</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;...&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = <span class="function">(<span class="params">env, argv</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// è¿™é‡Œå¯ä»¥é€šè¿‡ä¸åŒçš„æ¨¡å¼ä¿®æ”¹ config é…ç½®</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> smp.<span class="title function_">wrap</span>(config);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<blockquote>
<p><strong>æ³¨æ„ï¼šåœ¨ webpack5.x ä¸­ä¸ºäº†ä½¿ç”¨è´¹æ—¶åˆ†æå»å¯¹æ’ä»¶è¿›è¡Œé™çº§æˆ–è€…ä¿®æ”¹é…ç½®å†™æ³•æ˜¯éå¸¸ä¸åˆ’ç®—çš„</strong>ï¼Œè¿™é‡Œå› ä¸ºæ¼”ç¤ºéœ€è¦ï¼Œæˆ‘åé¢ä¼šç»§ç»­ä½¿ç”¨ï¼Œä½†æ˜¯åœ¨å¹³æ—¶å¼€å‘ä¸­ï¼Œå»ºè®®è¿˜æ˜¯ä¸è¦ä½¿ç”¨ã€‚</p>
</blockquote>
<h4 id="1-2-ä¼˜åŒ–-resolve-é…ç½®"><a href="#1-2-ä¼˜åŒ–-resolve-é…ç½®" class="headerlink" title="1.2 ä¼˜åŒ– resolve é…ç½®"></a>1.2 ä¼˜åŒ– resolve é…ç½®</h4><h5 id="1-2-1-alias"><a href="#1-2-1-alias" class="headerlink" title="1.2.1 alias"></a>1.2.1 alias</h5><p>alias ç”¨çš„åˆ›å»º <code>import</code> æˆ– <code>require</code> çš„åˆ«åï¼Œç”¨æ¥ç®€åŒ–æ¨¡å—å¼•ç”¨ï¼Œé¡¹ç›®ä¸­åŸºæœ¬éƒ½éœ€è¦è¿›è¡Œé…ç½®ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line">...</span><br><span class="line"><span class="comment">// è·¯å¾„å¤„ç†æ–¹æ³•</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">resolve</span>(<span class="params">dir</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> path.<span class="title function_">join</span>(__dirname, dir);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">const</span> config  = &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="attr">resolve</span>:&#123;</span><br><span class="line">    <span class="comment">// é…ç½®åˆ«å</span></span><br><span class="line">    <span class="attr">alias</span>: &#123;</span><br><span class="line">      <span class="string">&#x27;~&#x27;</span>: <span class="title function_">resolve</span>(<span class="string">&#x27;src&#x27;</span>),</span><br><span class="line">      <span class="string">&#x27;@&#x27;</span>: <span class="title function_">resolve</span>(<span class="string">&#x27;src&#x27;</span>),</span><br><span class="line">      <span class="string">&#x27;components&#x27;</span>: <span class="title function_">resolve</span>(<span class="string">&#x27;src/components&#x27;</span>),</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>é…ç½®å®Œæˆä¹‹åï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­å°±å¯ä»¥</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨ src åˆ«å ~ </span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;~/fonts/iconfont.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ src åˆ«å @ </span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@/fonts/iconfont.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ components åˆ«å</span></span><br><span class="line"><span class="keyword">import</span> footer <span class="keyword">from</span> <span class="string">&quot;components/footer&quot;</span>;</span><br></pre></td></tr></table></figure>



<h5 id="1-2-2-extensions"><a href="#1-2-2-extensions" class="headerlink" title="1.2.2 extensions"></a>1.2.2 extensions</h5><p>webpack é»˜è®¤é…ç½®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">extensions</span>: [<span class="string">&#x27;.js&#x27;</span>, <span class="string">&#x27;.json&#x27;</span>, <span class="string">&#x27;.wasm&#x27;</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœç”¨æˆ·å¼•å…¥æ¨¡å—æ—¶ä¸å¸¦æ‰©å±•åï¼Œä¾‹å¦‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> file <span class="keyword">from</span> <span class="string">&#x27;../path/to/file&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>é‚£ä¹ˆ webpack å°±ä¼šæŒ‰ç…§ extensions é…ç½®çš„æ•°ç»„<strong>ä»å·¦åˆ°å³</strong>çš„é¡ºåºå»å°è¯•è§£ææ¨¡å—</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</p>
<ol>
<li>é«˜é¢‘æ–‡ä»¶åç¼€åæ”¾å‰é¢ï¼›</li>
<li>æ‰‹åŠ¨é…ç½®åï¼Œé»˜è®¤é…ç½®ä¼šè¢«è¦†ç›–</li>
</ol>
<p>å¦‚æœæƒ³ä¿ç•™é»˜è®¤é…ç½®ï¼Œå¯ä»¥ç”¨ <code>...</code> æ‰©å±•è¿ç®—ç¬¦ä»£è¡¨é»˜è®¤é…ç½®ï¼Œä¾‹å¦‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">    <span class="attr">extensions</span>: [<span class="string">&#x27;.ts&#x27;</span>, <span class="string">&#x27;...&#x27;</span>], </span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h5 id="1-2-3-modules"><a href="#1-2-3-modules" class="headerlink" title="1.2.3 modules"></a>1.2.3 modules</h5><p>å‘Šè¯‰ webpack è§£ææ¨¡å—æ—¶åº”è¯¥æœç´¢çš„ç›®å½•ï¼Œå¸¸è§é…ç½®å¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯å¾„å¤„ç†æ–¹æ³•</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">resolve</span>(<span class="params">dir</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> path.<span class="title function_">join</span>(__dirname, dir);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">resolve</span>: &#123;</span><br><span class="line">     <span class="attr">modules</span>: [<span class="title function_">resolve</span>(<span class="string">&#x27;src&#x27;</span>), <span class="string">&#x27;node_modules&#x27;</span>],</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>å‘Šè¯‰ webpack ä¼˜å…ˆ src ç›®å½•ä¸‹æŸ¥æ‰¾éœ€è¦è§£æçš„æ–‡ä»¶ï¼Œä¼šå¤§å¤§èŠ‚çœæŸ¥æ‰¾æ—¶é—´</p>
<h5 id="1-2-4-resolveLoader"><a href="#1-2-4-resolveLoader" class="headerlink" title="1.2.4 resolveLoader"></a>1.2.4 resolveLoader</h5><p>resolveLoader ä¸ä¸Šé¢çš„ resolve å¯¹è±¡çš„å±æ€§é›†åˆç›¸åŒï¼Œ ä½†ä»…ç”¨äºè§£æ webpack çš„ <a class="link"   href="https://link.juejin.cn/?target=https://webpack.docschina.org/concepts/loaders" >loader<i class="fas fa-external-link-alt"></i></a> åŒ…ã€‚</p>
<p><strong>ä¸€èˆ¬æƒ…å†µä¸‹ä¿æŒé»˜è®¤é…ç½®å°±å¯ä»¥äº†ï¼Œä½†å¦‚æœä½ æœ‰è‡ªå®šä¹‰çš„ Loader å°±éœ€è¦é…ç½®ä¸€ä¸‹</strong>ï¼Œä¸é…å¯èƒ½ä¼šå› ä¸ºæ‰¾ä¸åˆ° loader æŠ¥é”™</p>
<ul>
<li>ä¾‹å¦‚ï¼šæˆ‘ä»¬åœ¨ loader æ–‡ä»¶å¤¹ä¸‹é¢ï¼Œæ”¾ç€æˆ‘ä»¬è‡ªå·±å†™çš„ loader</li>
</ul>
<p>æˆ‘ä»¬å°±å¯ä»¥æ€ä¹ˆé…ç½®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯å¾„å¤„ç†æ–¹æ³•</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">resolve</span>(<span class="params">dir</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> path.<span class="title function_">join</span>(__dirname, dir);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">resolveLoader</span>: &#123;</span><br><span class="line">    <span class="attr">modules</span>: [<span class="string">&#x27;node_modules&#x27;</span>,<span class="title function_">resolve</span>(<span class="string">&#x27;loader&#x27;</span>)]</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h4 id="1-3-externals"><a href="#1-3-externals" class="headerlink" title="1.3 externals"></a>1.3 externals</h4><p><code>externals</code> é…ç½®é€‰é¡¹æä¾›äº†ã€Œ<strong>ä»è¾“å‡ºçš„ bundle ä¸­æ’é™¤ä¾èµ–</strong>ã€çš„æ–¹æ³•ã€‚æ­¤åŠŸèƒ½é€šå¸¸å¯¹ <strong>library å¼€å‘äººå‘˜</strong>æ¥è¯´æ˜¯æœ€æœ‰ç”¨çš„ï¼Œç„¶è€Œä¹Ÿä¼šæœ‰å„ç§å„æ ·çš„åº”ç”¨ç¨‹åºç”¨åˆ°å®ƒã€‚</p>
<p>ä¾‹å¦‚ï¼Œä» CDN å¼•å…¥ jQueryï¼Œè€Œä¸æ˜¯æŠŠå®ƒæ‰“åŒ…ï¼š</p>
<ol>
<li>å¼•å…¥é“¾æ¥</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script</span><br><span class="line">  src=<span class="string">&quot;https://code.jquery.com/jquery-3.1.0.js&quot;</span></span><br><span class="line">  integrity=<span class="string">&quot;sha256-slogkvB1K3VOkzAI8QITxV3VzpOnkeNVsKvtkYLMjfk=&quot;</span></span><br><span class="line">  crossorigin=<span class="string">&quot;anonymous&quot;</span></span><br><span class="line">&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>é…ç½® externals</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">externals</span>: &#123;</span><br><span class="line">    <span class="attr">jquery</span>: <span class="string">&#x27;jQuery&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>ä½¿ç”¨ jQuery</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">&#x27;jquery&#x27;</span>;</span><br><span class="line"></span><br><span class="line">$(<span class="string">&#x27;.my-element&#x27;</span>).<span class="title function_">animate</span>(<span class="comment">/* ... */</span>);</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥ç”¨è¿™æ ·çš„æ–¹æ³•æ¥å‰¥ç¦»ä¸éœ€è¦æ”¹åŠ¨çš„ä¸€äº›ä¾èµ–ï¼Œå¤§å¤§èŠ‚çœæ‰“åŒ…æ„å»ºçš„æ—¶é—´ã€‚</p>
<h4 id="1-4-ç¼©å°èŒƒå›´"><a href="#1-4-ç¼©å°èŒƒå›´" class="headerlink" title="1.4 ç¼©å°èŒƒå›´"></a>1.4 ç¼©å°èŒƒå›´</h4><p>åœ¨é…ç½® loader çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ›´ç²¾ç¡®çš„å»æŒ‡å®š loader çš„ä½œç”¨ç›®å½•æˆ–è€…éœ€è¦æ’é™¤çš„ç›®å½•ï¼Œé€šè¿‡ä½¿ç”¨ <code>include</code> å’Œ <code>exclude</code> ä¸¤ä¸ªé…ç½®é¡¹ï¼Œå¯ä»¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œå¸¸è§çš„ä¾‹å¦‚ï¼š</p>
<ul>
<li>**<code>include</code>**ï¼šç¬¦åˆæ¡ä»¶çš„æ¨¡å—è¿›è¡Œè§£æ</li>
<li>**<code>exclude</code>**ï¼šæ’é™¤ç¬¦åˆæ¡ä»¶çš„æ¨¡å—ï¼Œä¸è§£æ</li>
<li><strong><code>exclude</code></strong> ä¼˜å…ˆçº§æ›´é«˜</li>
</ul>
<p>ä¾‹å¦‚åœ¨é…ç½® babel çš„æ—¶å€™</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·¯å¾„å¤„ç†æ–¹æ³•</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">resolve</span>(<span class="params">dir</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> path.<span class="title function_">join</span>(__dirname, dir);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">noParse</span>: <span class="regexp">/jquery|lodash/</span>,</span><br><span class="line">    <span class="attr">rules</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">test</span>: <span class="regexp">/\.js$/i</span>,</span><br><span class="line">        <span class="attr">include</span>: <span class="title function_">resolve</span>(<span class="string">&#x27;src&#x27;</span>),</span><br><span class="line">        <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>,</span><br><span class="line">        <span class="attr">use</span>: [</span><br><span class="line">          <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h4 id="1-5-noParse"><a href="#1-5-noParse" class="headerlink" title="1.5 noParse"></a>1.5 noParse</h4><ul>
<li>ä¸éœ€è¦è§£æä¾èµ–çš„ç¬¬ä¸‰æ–¹å¤§å‹ç±»åº“ç­‰ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªå­—æ®µè¿›è¡Œé…ç½®ï¼Œä»¥æé«˜æ„å»ºé€Ÿåº¦</li>
<li>ä½¿ç”¨ noParse è¿›è¡Œå¿½ç•¥çš„æ¨¡å—æ–‡ä»¶ä¸­ä¸ä¼šè§£æ <code>import</code>ã€<code>require</code> ç­‰è¯­æ³•</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">module</span>: &#123; </span><br><span class="line">    <span class="attr">noParse</span>: <span class="regexp">/jquery|lodash/</span>,</span><br><span class="line">    <span class="attr">rules</span>:[...]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h4 id="1-6-IgnorePlugin"><a href="#1-6-IgnorePlugin" class="headerlink" title="1.6 IgnorePlugin"></a>1.6 IgnorePlugin</h4><p>é˜²æ­¢åœ¨ <code>import</code> æˆ– <code>require</code> è°ƒç”¨æ—¶ï¼Œç”Ÿæˆä»¥ä¸‹æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„æ¨¡å—ï¼š</p>
<ul>
<li><code>requestRegExp</code> åŒ¹é…(test)èµ„æºè¯·æ±‚è·¯å¾„çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</li>
<li><code>contextRegExp</code> åŒ¹é…(test)èµ„æºä¸Šä¸‹æ–‡ï¼ˆç›®å½•ï¼‰çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> webpack.<span class="title class_">IgnorePlugin</span>(&#123; resourceRegExp, contextRegExp &#125;);</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†æ­¤æ’ä»¶çš„å‡ ç§ç”¨æ³•ã€‚</p>
<ol>
<li>å®‰è£… moment æ’ä»¶ï¼ˆæ—¶é—´å¤„ç†åº“ï¼‰</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i -S moment</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>é…ç½® IgnorePlugin</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¼•å…¥ webpack</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="attr">plugins</span>:[ <span class="comment">// é…ç½®æ’ä»¶</span></span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">new</span> webpack.<span class="title class_">IgnorePlugin</span>(&#123;</span><br><span class="line">      <span class="attr">resourceRegExp</span>: <span class="regexp">/^\.\/locale$/</span>,</span><br><span class="line">      <span class="attr">contextRegExp</span>: <span class="regexp">/moment$/</span>,</span><br><span class="line">    &#125;),</span><br><span class="line">  ]  </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ç›®çš„æ˜¯å°†æ’ä»¶ä¸­çš„éä¸­æ–‡è¯­éŸ³æ’é™¤æ‰ï¼Œè¿™æ ·å°±å¯ä»¥å¤§å¤§èŠ‚çœæ‰“åŒ…çš„ä½“ç§¯äº†</p>
<h3 id="2-ä¼˜åŒ–æ„å»ºç»“æœ"><a href="#2-ä¼˜åŒ–æ„å»ºç»“æœ" class="headerlink" title="2. ä¼˜åŒ–æ„å»ºç»“æœ"></a>2. ä¼˜åŒ–æ„å»ºç»“æœ</h3><h4 id="2-1-å‹ç¼©-CSS"><a href="#2-1-å‹ç¼©-CSS" class="headerlink" title="2.1 å‹ç¼© CSS"></a>2.1 å‹ç¼© CSS</h4><ol>
<li>å®‰è£… <a href="https://link.juejin.cn/?target=https://www.npmjs.com/package/optimize-css-assets-webpack-plugin"><code>optimize-css-assets-webpack-plugin</code></a></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -D optimize-css-assets-webpack-plugin </span><br></pre></td></tr></table></figure>

<ol start="2">
<li>ä¿®æ”¹ <code>webapck.config.js</code> é…ç½®</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="comment">// å‹ç¼©css</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">OptimizeCssAssetsPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;optimize-css-assets-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="attr">minimize</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">minimizer</span>: [</span><br><span class="line">      <span class="comment">// æ·»åŠ  css å‹ç¼©é…ç½®</span></span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">OptimizeCssAssetsPlugin</span>(&#123;&#125;),</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line"> <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure>



<h4 id="2-2-å‹ç¼©-JS"><a href="#2-2-å‹ç¼©-JS" class="headerlink" title="2.2 å‹ç¼© JS"></a>2.2 å‹ç¼© JS</h4><blockquote>
<p>åœ¨ç”Ÿæˆç¯å¢ƒä¸‹æ‰“åŒ…é»˜è®¤ä¼šå¼€å¯ js å‹ç¼©ï¼Œä½†æ˜¯å½“æˆ‘ä»¬æ‰‹åŠ¨é…ç½® <code>optimization</code> é€‰é¡¹ä¹‹åï¼Œå°±ä¸å†é»˜è®¤å¯¹ js è¿›è¡Œå‹ç¼©ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å»é…ç½®ã€‚</p>
</blockquote>
<p>å› ä¸º webpack5 å†…ç½®äº†<a class="link"   href="https://link.juejin.cn/?target=https://www.npmjs.com/package/terser-webpack-plugin" >terser-webpack-plugin<i class="fas fa-external-link-alt"></i></a> æ’ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€é‡å¤å®‰è£…ï¼Œç›´æ¥å¼•ç”¨å°±å¯ä»¥äº†ï¼Œå…·ä½“é…ç½®å¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">TerserPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;terser-webpack-plugin&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="attr">minimize</span>: <span class="literal">true</span>, <span class="comment">// å¼€å¯æœ€å°åŒ–</span></span><br><span class="line">    <span class="attr">minimizer</span>: [</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">TerserPlugin</span>(&#123;&#125;)</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="2-3-æ¸…é™¤æ— ç”¨çš„-CSS"><a href="#2-3-æ¸…é™¤æ— ç”¨çš„-CSS" class="headerlink" title="2.3 æ¸…é™¤æ— ç”¨çš„ CSS"></a>2.3 æ¸…é™¤æ— ç”¨çš„ CSS</h4><p><a class="link"   href="https://link.juejin.cn/?target=https://www.purgecss.cn/plugins/webpack.html%23%E7%94%A8%E6%B3%95" >purgecss-webpack-plugin<i class="fas fa-external-link-alt"></i></a> ä¼šå•ç‹¬æå– CSS å¹¶æ¸…é™¤ç”¨ä¸åˆ°çš„ CSS</p>
<ol>
<li>å®‰è£…æ’ä»¶</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i -D purgecss-webpack-plugin</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>æ·»åŠ é…ç½®</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">PurgecssWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;purgecss-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> glob = <span class="built_in">require</span>(<span class="string">&#x27;glob&#x27;</span>); <span class="comment">// æ–‡ä»¶åŒ¹é…æ¨¡å¼</span></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">resolve</span>(<span class="params">dir</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> path.<span class="title function_">join</span>(__dirname, dir);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">PATHS</span> = &#123;</span><br><span class="line">  <span class="attr">src</span>: <span class="title function_">resolve</span>(<span class="string">&#x27;src&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="attr">plugins</span>:[ <span class="comment">// é…ç½®æ’ä»¶</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">PurgecssPlugin</span>(&#123;</span><br><span class="line">      <span class="attr">paths</span>: glob.<span class="title function_">sync</span>(<span class="string">`<span class="subst">$&#123;PATHS.src&#125;</span>/**/*`</span>, &#123;<span class="attr">nodir</span>: <span class="literal">true</span>&#125;)</span><br><span class="line">    &#125;),</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h4 id="2-4-Tree-shaking"><a href="#2-4-Tree-shaking" class="headerlink" title="2.4 Tree-shaking"></a>2.4 Tree-shaking</h4><p>Tree-shaking ä½œç”¨æ˜¯å‰”é™¤æ²¡æœ‰ä½¿ç”¨çš„ä»£ç ï¼Œä»¥é™ä½åŒ…çš„ä½“ç§¯</p>
<ul>
<li>webpack é»˜è®¤æ”¯æŒï¼Œéœ€è¦åœ¨ .bablerc é‡Œé¢è®¾ç½® <code>modelï¼šfalse</code>ï¼Œå³å¯åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹é»˜è®¤å¼€å¯</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">presets</span>: [</span><br><span class="line">    [</span><br><span class="line">      <span class="string">&quot;@babel/preset-env&quot;</span>,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">module</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">useBuiltIns</span>: <span class="string">&quot;entry&quot;</span>,</span><br><span class="line">        <span class="attr">corejs</span>: <span class="string">&quot;3.9.1&quot;</span>,</span><br><span class="line">        <span class="attr">targets</span>: &#123;</span><br><span class="line">          <span class="attr">chrome</span>: <span class="string">&quot;58&quot;</span>,</span><br><span class="line">          <span class="attr">ie</span>: <span class="string">&quot;11&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">plugins</span>: [    </span><br><span class="line">    [<span class="string">&quot;@babel/plugin-proposal-decorators&quot;</span>, &#123; <span class="attr">legacy</span>: <span class="literal">true</span> &#125;],</span><br><span class="line">    [<span class="string">&quot;@babel/plugin-proposal-class-properties&quot;</span>, &#123; <span class="attr">loose</span>: <span class="literal">true</span> &#125;],</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<h3 id="3-ä¼˜åŒ–è¿è¡Œæ—¶ä½“éªŒ"><a href="#3-ä¼˜åŒ–è¿è¡Œæ—¶ä½“éªŒ" class="headerlink" title="3. ä¼˜åŒ–è¿è¡Œæ—¶ä½“éªŒ"></a>3. ä¼˜åŒ–è¿è¡Œæ—¶ä½“éªŒ</h3><p>è¿è¡Œæ—¶ä¼˜åŒ–çš„æ ¸å¿ƒå°±æ˜¯æå‡é¦–å±çš„åŠ è½½é€Ÿåº¦ï¼Œä¸»è¦çš„æ–¹å¼å°±æ˜¯</p>
<ul>
<li>é™ä½é¦–å±åŠ è½½æ–‡ä»¶ä½“ç§¯ï¼Œé¦–å±ä¸éœ€è¦çš„æ–‡ä»¶è¿›è¡Œé¢„åŠ è½½æˆ–è€…æŒ‰éœ€åŠ è½½</li>
</ul>
<h4 id="3-1-å…¥å£ç‚¹åˆ†å‰²"><a href="#3-1-å…¥å£ç‚¹åˆ†å‰²" class="headerlink" title="3.1 å…¥å£ç‚¹åˆ†å‰²"></a>3.1 å…¥å£ç‚¹åˆ†å‰²</h4><p>é…ç½®å¤šä¸ªæ‰“åŒ…å…¥å£ï¼Œå¤šé¡µæ‰“åŒ…ï¼Œè¿™é‡Œä¸è¿‡å¤šä»‹ç»</p>
<h4 id="3-2-splitChunks-åˆ†åŒ…é…ç½®"><a href="#3-2-splitChunks-åˆ†åŒ…é…ç½®" class="headerlink" title="3.2 splitChunks åˆ†åŒ…é…ç½®"></a>3.2 splitChunks åˆ†åŒ…é…ç½®</h4><p>optimization.splitChunks æ˜¯åŸºäº <a class="link"   href="https://link.juejin.cn/?target=https://webpack.docschina.org/plugins/split-chunks-plugin/" >SplitChunksPlugin<i class="fas fa-external-link-alt"></i></a> æ’ä»¶å®ç°çš„</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒåªä¼šå½±å“åˆ°æŒ‰éœ€åŠ è½½çš„ chunksï¼Œå› ä¸ºä¿®æ”¹ initial chunks ä¼šå½±å“åˆ°é¡¹ç›®çš„ HTML æ–‡ä»¶ä¸­çš„è„šæœ¬æ ‡ç­¾ã€‚</p>
<p>webpack å°†æ ¹æ®ä»¥ä¸‹æ¡ä»¶è‡ªåŠ¨æ‹†åˆ† chunksï¼š</p>
<ul>
<li>æ–°çš„ chunk å¯ä»¥è¢«å…±äº«ï¼Œæˆ–è€…æ¨¡å—æ¥è‡ªäº <code>node_modules</code> æ–‡ä»¶å¤¹</li>
<li>æ–°çš„ chunk ä½“ç§¯å¤§äº 20kbï¼ˆåœ¨è¿›è¡Œ min+gz ä¹‹å‰çš„ä½“ç§¯ï¼‰</li>
<li>å½“æŒ‰éœ€åŠ è½½ chunks æ—¶ï¼Œå¹¶è¡Œè¯·æ±‚çš„æœ€å¤§æ•°é‡å°äºæˆ–ç­‰äº 30</li>
<li>å½“åŠ è½½åˆå§‹åŒ–é¡µé¢æ—¶ï¼Œå¹¶å‘è¯·æ±‚çš„æœ€å¤§æ•°é‡å°äºæˆ–ç­‰äº 30</li>
</ul>
<ol>
<li>é»˜è®¤é…ç½®ä»‹ç»</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="attr">splitChunks</span>: &#123;</span><br><span class="line">      <span class="attr">chunks</span>: <span class="string">&#x27;async&#x27;</span>, <span class="comment">// æœ‰æ•ˆå€¼ä¸ºÂ `all`ï¼Œ`async`Â å’ŒÂ `initial`</span></span><br><span class="line">      <span class="attr">minSize</span>: <span class="number">20000</span>, <span class="comment">// ç”Ÿæˆ chunk çš„æœ€å°ä½“ç§¯ï¼ˆâ‰ˆ 20kb)</span></span><br><span class="line">      <span class="attr">minRemainingSize</span>: <span class="number">0</span>, <span class="comment">// ç¡®ä¿æ‹†åˆ†åå‰©ä½™çš„æœ€å° chunk ä½“ç§¯è¶…è¿‡é™åˆ¶æ¥é¿å…å¤§å°ä¸ºé›¶çš„æ¨¡å—</span></span><br><span class="line">      <span class="attr">minChunks</span>: <span class="number">1</span>, <span class="comment">// æ‹†åˆ†å‰å¿…é¡»å…±äº«æ¨¡å—çš„æœ€å° chunks æ•°ã€‚</span></span><br><span class="line">      <span class="attr">maxAsyncRequests</span>: <span class="number">30</span>, <span class="comment">// æœ€å¤§çš„æŒ‰éœ€(å¼‚æ­¥)åŠ è½½æ¬¡æ•°</span></span><br><span class="line">      <span class="attr">maxInitialRequests</span>: <span class="number">30</span>, <span class="comment">// æ‰“åŒ…åçš„å…¥å£æ–‡ä»¶åŠ è½½æ—¶ï¼Œè¿˜èƒ½åŒæ—¶åŠ è½½jsæ–‡ä»¶çš„æ•°é‡ï¼ˆåŒ…æ‹¬å…¥å£æ–‡ä»¶ï¼‰</span></span><br><span class="line">      <span class="attr">enforceSizeThreshold</span>: <span class="number">50000</span>,</span><br><span class="line">      <span class="attr">cacheGroups</span>: &#123; <span class="comment">// é…ç½®æå–æ¨¡å—çš„æ–¹æ¡ˆ</span></span><br><span class="line">        <span class="attr">defaultVendors</span>: &#123;</span><br><span class="line">          <span class="attr">test</span>: <span class="regexp">/[\/]node_modules[\/]/</span>,</span><br><span class="line">          <span class="attr">priority</span>: -<span class="number">10</span>,</span><br><span class="line">          <span class="attr">reuseExistingChunk</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">default</span>: &#123;</span><br><span class="line">          <span class="attr">minChunks</span>: <span class="number">2</span>,</span><br><span class="line">          <span class="attr">priority</span>: -<span class="number">20</span>,</span><br><span class="line">          <span class="attr">reuseExistingChunk</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>é¡¹ç›®ä¸­çš„ä½¿ç”¨</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">  <span class="attr">optimization</span>: &#123;</span><br><span class="line">    <span class="attr">splitChunks</span>: &#123;</span><br><span class="line">      <span class="attr">cacheGroups</span>: &#123; <span class="comment">// é…ç½®æå–æ¨¡å—çš„æ–¹æ¡ˆ</span></span><br><span class="line">        <span class="attr">default</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">styles</span>: &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;styles&#x27;</span>,</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/\.(s?css|less|sass)$/</span>,</span><br><span class="line">            <span class="attr">chunks</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">            <span class="attr">enforce</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">priority</span>: <span class="number">10</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="attr">common</span>: &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;chunk-common&#x27;</span>,</span><br><span class="line">            <span class="attr">chunks</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">            <span class="attr">minChunks</span>: <span class="number">2</span>,</span><br><span class="line">            <span class="attr">maxInitialRequests</span>: <span class="number">5</span>,</span><br><span class="line">            <span class="attr">minSize</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="attr">priority</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">enforce</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">reuseExistingChunk</span>: <span class="literal">true</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="attr">vendors</span>: &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;chunk-vendors&#x27;</span>,</span><br><span class="line">            <span class="attr">test</span>: <span class="regexp">/[\\/]node_modules[\\/]/</span>,</span><br><span class="line">            <span class="attr">chunks</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">            <span class="attr">priority</span>: <span class="number">2</span>,</span><br><span class="line">            <span class="attr">enforce</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">reuseExistingChunk</span>: <span class="literal">true</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">         <span class="comment">// ... æ ¹æ®ä¸åŒé¡¹ç›®å†ç»†åŒ–æ‹†åˆ†å†…å®¹</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-3-ä»£ç æ‡’åŠ è½½"><a href="#3-3-ä»£ç æ‡’åŠ è½½" class="headerlink" title="3.3 ä»£ç æ‡’åŠ è½½"></a>3.3 ä»£ç æ‡’åŠ è½½</h4><p>é’ˆå¯¹é¦–å±åŠ è½½ä¸å¤ªéœ€è¦çš„ä¸€äº›èµ„æºï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ‡’åŠ è½½çš„æ–¹å¼å»å®ç°ï¼Œä¸‹é¢çœ‹ä¸€ä¸ªå°ğŸŒ°</p>
<ul>
<li>éœ€æ±‚ï¼šç‚¹å‡»å›¾ç‰‡ç»™å›¾ç‰‡åŠ ä¸€ä¸ªæè¿°</li>
</ul>
<p><strong>1. æ–°å»ºå›¾ç‰‡æè¿°ä¿¡æ¯</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ele = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line">ele.<span class="property">innerHTML</span> = <span class="string">&#x27;æˆ‘æ˜¯å›¾ç‰‡æè¿°&#x27;</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = ele</span><br></pre></td></tr></table></figure>

<p><strong>2. ç‚¹å‡»å›¾ç‰‡å¼•å…¥æè¿°</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./main.css&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./sass.scss&#x27;</span></span><br><span class="line"><span class="keyword">import</span> logo <span class="keyword">from</span> <span class="string">&#x27;../public/avatar.png&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;@/fonts/iconfont.css&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a = <span class="string">&#x27;Hello ITEM&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>()</span><br><span class="line">img.<span class="property">src</span> = logo</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;imgBox&#x27;</span>).<span class="title function_">appendChild</span>(img)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‰éœ€åŠ è½½</span></span><br><span class="line">img.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">import</span>(<span class="string">&#x27;./desc&#x27;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">&#123; <span class="keyword">default</span>: element &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(element)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(element)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h4 id="3-4-prefetch-ä¸-preload"><a href="#3-4-prefetch-ä¸-preload" class="headerlink" title="3.4 prefetch ä¸ preload"></a>3.4 prefetch ä¸ preload</h4><p>ä¸Šé¢æˆ‘ä»¬ä½¿ç”¨å¼‚æ­¥åŠ è½½çš„æ–¹å¼å¼•å…¥å›¾ç‰‡çš„æè¿°ï¼Œä½†æ˜¯å¦‚æœéœ€è¦å¼‚æ­¥åŠ è½½çš„æ–‡ä»¶æ¯”è¾ƒå¤§æ—¶ï¼Œåœ¨ç‚¹å‡»çš„æ—¶å€™å»åŠ è½½ä¹Ÿä¼šå½±å“åˆ°æˆ‘ä»¬çš„ä½“éªŒï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘ä½¿ç”¨ prefetch æ¥è¿›è¡Œé¢„æ‹‰å–</p>
<h5 id="3-4-1-prefetch"><a href="#3-4-1-prefetch" class="headerlink" title="3.4.1 prefetch"></a>3.4.1 prefetch</h5><ul>
<li><strong>prefetch</strong> (é¢„è·å–)ï¼šæµè§ˆå™¨ç©ºé—²çš„æ—¶å€™è¿›è¡Œèµ„æºçš„æ‹‰å–</li>
</ul>
<p>æ”¹é€ ä¸€ä¸‹ä¸Šé¢çš„ä»£ç </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŒ‰éœ€åŠ è½½</span></span><br><span class="line">img.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">import</span>( <span class="comment">/* webpackPrefetch: true */</span> <span class="string">&#x27;./desc&#x27;</span>).<span class="title function_">then</span>(<span class="function">(<span class="params">&#123; <span class="keyword">default</span>: element &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(element)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(element)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="3-4-2-preload"><a href="#3-4-2-preload" class="headerlink" title="3.4.2 preload"></a>3.4.2 preload</h5><ul>
<li><strong>preload</strong> (é¢„åŠ è½½)ï¼šæå‰åŠ è½½åé¢ä¼šç”¨åˆ°çš„å…³é”®èµ„æº</li>
<li>âš ï¸ å› ä¸ºä¼šæå‰æ‹‰å–èµ„æºï¼Œå¦‚æœä¸æ˜¯ç‰¹æ®Šéœ€è¦ï¼Œè°¨æ…ä½¿ç”¨</li>
</ul>
<p>ç½‘ç¤ºä¾‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>(<span class="comment">/* webpackPreload: true */</span> <span class="string">&#x27;ChartingLibrary&#x27;</span>);</span><br></pre></td></tr></table></figure>


            </div>

            
                <div class="post-copyright-info">
                    
<div class="article-copyright-info-container">
    <ul class="copyright-info-content">
        <li class="post-title">
            <span class="type">Post title</span>: <span class="content">Webpack çŸ¥è¯†ä½“ç³»</span>
        </li>
        <li class="post-author">
            <span class="type">Post author</span>: <span class="content">Chao</span>
        </li>
        <li class="post-time">
            <span class="type">Create time</span>: <span class="content">2022-10-11 13:15:00</span>
        </li>
        <li class="post-link">
            <span class="type">Post link</span>: <span class="content">2022/10/11/webpackçŸ¥è¯†ä½“ç³»/</span>
        </li>
        <li class="post-license">
            <span class="type">Copyright notice</span>: <span class="content">All articles in this blog are licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> unless stating additionally.</span>
        </li>
    </ul>
    <div class="copy-copyright-info flex-center tooltip" data-content="Copy copyright info" data-offset-y="-2px">
        <i class="fa-solid fa-copy"></i>
    </div>
</div>

                </div>
            

            
                <ul class="post-tags-box">
                    
                        <li class="tag-item">
                            <a href="/tags/Webpack/">#Webpack</a>&nbsp;
                        </li>
                    
                </ul>
            

            
                <div class="article-nav">
                    
                        <div class="article-prev">
                            <a class="prev"
                               rel="prev"
                               href="/2022/10/29/webpack%E6%80%BB%E7%BB%93/"
                            >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                                <span class="title flex-center">
                                <span class="post-nav-title-item">Webpack æ€»ç»“</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                            </a>
                        </div>
                    
                    
                        <div class="article-next">
                            <a class="next"
                               rel="next"
                               href="/2022/10/11/sass%E5%92%8Cless/"
                            >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Sass å’Œ Less</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                                <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                            </a>
                        </div>
                    
                </div>
            

            
                <div class="comment-container">
                    
<div class="comments-container">
    <div id="comments-anchor"></div>
    <div class="comment-area-title">
        <i class="fas fa-comments"></i>&nbsp;Comments
    </div>
    
        
            

    <div class="waline-comment-container">
        <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@waline/client@v2/dist/waline.css"/>
        <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@waline/client@v2/dist/waline-meta.css"/>
        <script data-pjax src="//cdn.jsdelivr.net/npm/@waline/client@v2/dist/waline.js"></script>
        <div id="waline-comment"></div>
        <script data-pjax>
          function loadWaline() {
            Waline.init({
              el: '#waline-comment',
              serverURL: 'https://bear-blog-comment-8yis8zzwo-xiongcao.vercel.app',
              lang: 'en' || 'zh-CN',
              comment: '.post-comments-count',
              reaction: 'true' === 'true'
            })
          }

          if ('true' === 'true') {
            setTimeout(() => {
              loadWaline()
            }, 1000)
          } else {
            window.addEventListener('DOMContentLoaded', loadWaline)
          }
        </script>
    </div>



        
    
</div>

                </div>
            
        </div>

        
            <div class="toc-content-container">
                <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#webpack-%E4%B8%AD-loader-%E5%92%8C-plugin-%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88"><span class="nav-number">1.</span> <span class="nav-text">webpack ä¸­ loader å’Œ plugin çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ?</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81Webpack-%E5%9F%BA%E7%A1%80"><span class="nav-number"></span> <span class="nav-text">ä¸€ã€Webpack åŸºç¡€</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%AE%80%E5%8D%95%E9%85%8D%E7%BD%AE"><span class="nav-number">1.</span> <span class="nav-text">1. ç®€å•é…ç½®</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 å®‰è£…ä¾èµ–</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 å·¥ä½œæ¨¡å¼</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">1.3.</span> <span class="nav-text">1.3 é…ç½®æ–‡ä»¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-4-Loader"><span class="nav-number">1.4.</span> <span class="nav-text">1.4 Loader</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-5-%E6%8F%92%E4%BB%B6%EF%BC%88plugin%EF%BC%89"><span class="nav-number">1.5.</span> <span class="nav-text">1.5 æ’ä»¶ï¼ˆpluginï¼‰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-6-%E8%87%AA%E5%8A%A8%E6%B8%85%E7%A9%BA%E6%89%93%E5%8C%85%E7%9B%AE%E5%BD%95"><span class="nav-number">1.6.</span> <span class="nav-text">1.6 è‡ªåŠ¨æ¸…ç©ºæ‰“åŒ…ç›®å½•</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-7-%E5%8C%BA%E5%88%86%E7%8E%AF%E5%A2%83"><span class="nav-number">1.7.</span> <span class="nav-text">1.7 åŒºåˆ†ç¯å¢ƒ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-8-%E5%90%AF%E5%8A%A8-devServer"><span class="nav-number">1.8.</span> <span class="nav-text">1.8 å¯åŠ¨ devServer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-9-%E5%BC%95%E5%85%A5-CSS"><span class="nav-number">1.9.</span> <span class="nav-text">1.9 å¼•å…¥ CSS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-10-CSS-%E5%85%BC%E5%AE%B9%E6%80%A7"><span class="nav-number">1.10.</span> <span class="nav-text">1.10 CSS å…¼å®¹æ€§</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-11-%E5%BC%95%E5%85%A5-Less-%E6%88%96%E8%80%85-Sass"><span class="nav-number">1.11.</span> <span class="nav-text">1.11 å¼•å…¥ Less æˆ–è€… Sass</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-12-%E5%88%86%E7%A6%BB%E6%A0%B7%E5%BC%8F%E6%96%87%E4%BB%B6"><span class="nav-number">1.12.</span> <span class="nav-text">1.12 åˆ†ç¦»æ ·å¼æ–‡ä»¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-13-%E5%9B%BE%E7%89%87%E5%92%8C%E5%AD%97%E4%BD%93%E6%96%87%E4%BB%B6"><span class="nav-number">1.13.</span> <span class="nav-text">1.13 å›¾ç‰‡å’Œå­—ä½“æ–‡ä»¶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-14-%E8%B5%84%E6%BA%90%E6%A8%A1%E5%9D%97%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="nav-number">1.14.</span> <span class="nav-text">1.14 èµ„æºæ¨¡å—çš„ä½¿ç”¨</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-15-JS-%E5%85%BC%E5%AE%B9%E6%80%A7%EF%BC%88Babel%EF%BC%89"><span class="nav-number">1.15.</span> <span class="nav-text">1.15 JS å…¼å®¹æ€§ï¼ˆBabelï¼‰</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-SourceMap-%E9%85%8D%E7%BD%AE%E9%80%89%E6%8B%A9"><span class="nav-number">2.</span> <span class="nav-text">2. SourceMap é…ç½®é€‰æ‹©</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-devtool-%E9%85%8D%E7%BD%AE"><span class="nav-number">2.1.</span> <span class="nav-text">2.1 devtool é…ç½®</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-%E6%8E%A8%E8%8D%90%E9%85%8D%E7%BD%AE"><span class="nav-number">2.2.</span> <span class="nav-text">2.2 æ¨èé…ç½®</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81Webpack-%E8%BF%9B%E9%98%B6"><span class="nav-number"></span> <span class="nav-text">äºŒã€Webpack è¿›é˜¶</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E4%BC%98%E5%8C%96%E6%9E%84%E5%BB%BA%E9%80%9F%E5%BA%A6"><span class="nav-number">1.</span> <span class="nav-text">1. ä¼˜åŒ–æ„å»ºé€Ÿåº¦</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-%E6%9E%84%E5%BB%BA%E8%B4%B9%E6%97%B6%E5%88%86%E6%9E%90"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 æ„å»ºè´¹æ—¶åˆ†æ</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-%E4%BC%98%E5%8C%96-resolve-%E9%85%8D%E7%BD%AE"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 ä¼˜åŒ– resolve é…ç½®</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-1-alias"><span class="nav-number">1.2.1.</span> <span class="nav-text">1.2.1 alias</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-2-extensions"><span class="nav-number">1.2.2.</span> <span class="nav-text">1.2.2 extensions</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-3-modules"><span class="nav-number">1.2.3.</span> <span class="nav-text">1.2.3 modules</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-4-resolveLoader"><span class="nav-number">1.2.4.</span> <span class="nav-text">1.2.4 resolveLoader</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-externals"><span class="nav-number">1.3.</span> <span class="nav-text">1.3 externals</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-4-%E7%BC%A9%E5%B0%8F%E8%8C%83%E5%9B%B4"><span class="nav-number">1.4.</span> <span class="nav-text">1.4 ç¼©å°èŒƒå›´</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-5-noParse"><span class="nav-number">1.5.</span> <span class="nav-text">1.5 noParse</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-6-IgnorePlugin"><span class="nav-number">1.6.</span> <span class="nav-text">1.6 IgnorePlugin</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E4%BC%98%E5%8C%96%E6%9E%84%E5%BB%BA%E7%BB%93%E6%9E%9C"><span class="nav-number">2.</span> <span class="nav-text">2. ä¼˜åŒ–æ„å»ºç»“æœ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-%E5%8E%8B%E7%BC%A9-CSS"><span class="nav-number">2.1.</span> <span class="nav-text">2.1 å‹ç¼© CSS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-%E5%8E%8B%E7%BC%A9-JS"><span class="nav-number">2.2.</span> <span class="nav-text">2.2 å‹ç¼© JS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-%E6%B8%85%E9%99%A4%E6%97%A0%E7%94%A8%E7%9A%84-CSS"><span class="nav-number">2.3.</span> <span class="nav-text">2.3 æ¸…é™¤æ— ç”¨çš„ CSS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-Tree-shaking"><span class="nav-number">2.4.</span> <span class="nav-text">2.4 Tree-shaking</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E4%BC%98%E5%8C%96%E8%BF%90%E8%A1%8C%E6%97%B6%E4%BD%93%E9%AA%8C"><span class="nav-number">3.</span> <span class="nav-text">3. ä¼˜åŒ–è¿è¡Œæ—¶ä½“éªŒ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-%E5%85%A5%E5%8F%A3%E7%82%B9%E5%88%86%E5%89%B2"><span class="nav-number">3.1.</span> <span class="nav-text">3.1 å…¥å£ç‚¹åˆ†å‰²</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-splitChunks-%E5%88%86%E5%8C%85%E9%85%8D%E7%BD%AE"><span class="nav-number">3.2.</span> <span class="nav-text">3.2 splitChunks åˆ†åŒ…é…ç½®</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-%E4%BB%A3%E7%A0%81%E6%87%92%E5%8A%A0%E8%BD%BD"><span class="nav-number">3.3.</span> <span class="nav-text">3.3 ä»£ç æ‡’åŠ è½½</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-4-prefetch-%E4%B8%8E-preload"><span class="nav-number">3.4.</span> <span class="nav-text">3.4 prefetch ä¸ preload</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#3-4-1-prefetch"><span class="nav-number">3.4.1.</span> <span class="nav-text">3.4.1 prefetch</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-4-2-preload"><span class="nav-number">3.4.2.</span> <span class="nav-text">3.4.2 preload</span></a></li></ol></li></ol></li></ol>
    </div>
</div>

            </div>
        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            
<footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
                <span>2017</span> -
            
            2023
            
                &nbsp;<i class="fas fa-heart icon-animate"></i>
                &nbsp;<a href="/">Chao</a>
            
        </div>
        
            <script async data-pjax
                    src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    Visitor Count&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                
                
                    Totalview&nbsp;<span id="busuanzi_value_site_pv"></span>
                
            </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.6.1</a>
        </div>
        
            <div class="icp-info info-item">
                <a target="_blank" rel="nofollow"
                   href="https://beian.miit.gov.cn"
                >
                    é„‚ICPè¯000000001å·
                </a>
            </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item flex-center toggle-show-toc">
                <i class="fas fa-list"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="tools-item flex-center go-to-comments">
                <i class="fas fa-comment"></i>
                <span class="post-comments-count"></span>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        $tools-item-width = 2.2rem
$tools-item-font-size = 1.1rem
$tools-item-border-radius = 0.1rem


.side-tools-container {
  position relative

  .tools-item {
    width $tools-item-width
    height $tools-item-width
    margin-bottom 0.2rem
    color var(--text-color-3)
    font-size $tools-item-font-size
    background var(--background-color-1)
    border-right none
    border-radius $tools-item-border-radius
    box-shadow 0.1rem 0.1rem 0.2rem var(--shadow-color)
    cursor pointer

    i {
      color var(--text-color-3)
    }

    &:hover {
      color var(--background-color-1)
      background var(--primary-color)
      box-shadow 0.2rem 0.2rem 0.4rem var(--shadow-color)

      i {
        color var(--background-color-1)
      }
    }

    +keep-tablet() {
      width $tools-item-width * 0.9
      height $tools-item-width * 0.9
      margin-bottom 0.2rem
      font-size $tools-item-font-size * 0.9
    }

    &.rss {

      a {
        width 100%
        height 100%
        border-radius $tools-item-border-radius

        &:hover {
          color var(--background-color-1)
          background var(--primary-color)
          box-shadow 0.2rem 0.2rem 0.4rem var(--shadow-color)
        }
      }
    }
  }


  .side-tools-list {
    transform translateX(100%)
    opacity 0
    transition-t("transform, opacity", "0, 0", "0.2, 0.2", "linear, linear")

    &.show {
      transform translateX(0)
      opacity 1
    }
  }


  .exposed-tools-list {

    if (hexo-config('style.scroll.percent') == true) {
      .tool-scroll-to-top {
        display none

        &.show {
          display flex
        }

        &:hover {

          .percent {
            display none
          }

          .arrow-up {
            display flex
          }
        }

        .arrow-up {
          display none
        }

        .percent {
          display flex
          font-size 1rem
        }
      }
    }
  }
}

    </div>

    <div class="zoom-in-image-mask">
    <img class="zoom-in-image">
</div>


    
        $icon-size = 1.2rem
$search-header-height = 3rem

.search-pop-overlay {
  position fixed
  top 0
  left 0
  z-index $z-index-8
  display flex
  width 100%
  height 100%
  background rgba(0, 0, 0, 0)
  visibility hidden
  transition-t("visibility, background", "0, 0", "0.3, 0.3", "ease, ease")

  &.active {
    background rgba(0, 0, 0, 0.35)
    visibility visible

    .search-popup {
      transform scale(1)
    }
  }


  .search-popup {
    z-index $z-index-6
    width 70%
    height 80%
    margin auto
    background var(--background-color-1)
    border-radius 0.4rem
    transform scale(0)
    transition-t("transform", "0", "0.3", "ease")

    +keep-tablet() {
      width 80%
    }

    +keep-mobile() {
      width 90%
    }

    .search-header {
      display flex
      align-items center
      height $search-header-height
      padding 0 1rem
      background var(--text-color-6)
      border-top-left-radius 0.2rem
      border-top-right-radius 0.2rem

      .search-input-field-pre {
        margin-right 0.2rem
        color var(--text-color-3)
        font-size 1.3rem
        cursor pointer
      }

      .search-input-container {
        flex-grow 1
        padding 0.2rem

        .search-input {
          width 100%
          color var(--text-color-3)
          font-size 1.2rem
          background transparent
          border 0
          outline 0

          &::-webkit-search-cancel-button {
            display none
          }

          &::-webkit-input-placeholder {
            color var(--text-color-4)
            font-size 1rem
          }
        }
      }


      .close-popup-btn {
        color var(--text-color-3)
        font-size $icon-size
        cursor pointer

        &:hover {
          color var(--text-color-1)
        }
      }
    }


    #search-result {
      position relative
      display flex
      box-sizing border-box
      height 'calc(100% - %s)' % $search-header-height
      padding 0.3rem 1.5rem
      overflow auto

      .search-result-list {
        width 100%
        height 100%
        font-size 1rem

        li {
          box-sizing border-box
          margin 0.8rem 0
          padding 0.8rem 0
          border-bottom 0.1rem dashed var(--border-color)

          &:last-child {
            border-bottom none
          }


          .search-result-title {
            position relative
            display flex
            align-items center
            margin-bottom 0.8rem
            padding-left 1rem
            font-weight bold

            &::after {
              position absolute
              top 50%
              left 0
              width 0.4rem
              height 0.4rem
              background var(--text-color-3)
              border-radius 50%
              transform translateY(-50%)
              content ''
            }
          }


          .search-result {
            margin 0
            padding-left 1rem
            line-height 2rem
            word-wrap break-word
          }

          a {
            &:hover {
              color var(--text-color-3)
            }
          }

          .search-keyword {
            color var(--primary-color)
            font-weight bold
            border-bottom 0.1rem dashed var(--primary-color)
          }
        }
      }


      #no-result {
        margin auto
        color var(--text-color-4)
      }
    }
  }
}


    

</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/dark-light-toggle.js"></script>





    
<script src="/js/local-search.js"></script>




    
<script src="/js/code-block.js"></script>




    
<script src="/js/lazyload.js"></script>



<div class="post-scripts pjax">
    
        
<script src="/js/post-helper.js"></script>

        
            
<script src="/js/libs/anime.min.js"></script>

        
        
            
<script src="/js/toc.js"></script>

        
    
</div>


    
<script src="/js/libs/pjax.min.js"></script>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax'
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            KEEP.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            KEEP.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            KEEP.refresh();
        });
    });
</script>



</body>
</html>
